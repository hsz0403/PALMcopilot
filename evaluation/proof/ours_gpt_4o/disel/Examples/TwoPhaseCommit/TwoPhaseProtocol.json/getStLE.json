[{"history": {"proof": "qsimpl time: 1 use: cn_pts_in,getStatelet,locCn. qsimpl time: 1 use: cn_pts_in,getStatelet,locCn.", "repairs": ["wrong_type", "wrong_type"], "exceptions": [{"ctx": ["intros N Hlocal."], "tactic": "destruct (locCn cn (getStatelet j l) pf' (cn_pts_in N)) as [Hval Hcase].", "exn": "In environment cn : nid pts, others : seq nid Hnin : cn \\ otin pts Puniq : uniq pts l : Label this : nat_eqType i, j : state pf : TPCCoh (getStatelet i l) pf' : TPCCoh (getStatelet j l) N : this \\\\in cn :: pts Hlocal : getLocal this (getStatelet j l) = getLocal this (getStatelet i l) The term \"cn\" has type \"nid\" while it is expected to have type \"TPCCoh ?d\".", "type": "wrong_type", "handled": true}, {"ctx": ["intros N Hlocal.", "qsimpl time: 1 use: cn_pts_in,getStatelet,locCn."], "tactic": "destruct (locCn cn (getStatelet i l) pf (cn_pts_in N)) as [_ Hci].", "exn": "In environment cn : nid pts, others : seq nid d : state -> nat -> dstatelet i0 : forall this : nat, this \\\\in cn :: pts -> this \\\\in nodes Hnin : cn \\ otin pts Puniq : uniq pts l, this : nat i, j : state pf : tpc_coh (getStatelet i l) pf' : tpc_coh (getStatelet j l) N : this \\\\in cn :: pts Hlocal : getLocal this (getStatelet j l) = getLocal this (getStatelet i l) H : forall (n : nat) (d : dstatelet), tpc_coh d -> n \\\\in nodes -> if n == cn then exists (s : CStateT) (l : Log), getLocal n d = st :-> s \\\\+ log :-> l else if n \\\\in pts then exists (s : PStateT) (l : Log), getLocal n d = st :-> s \\\\+ log :-> l else log \\ otin dom (getLocal n d) H0 : forall (n : nat) (d : dstatelet), tpc_coh d -> n \\\\in nodes -> valid (getLocal n d) The term \"cn\" has type \"nid\" while it is expected to have type \"TPCCoh ?d\".", "type": "wrong_type", "handled": true}, {"ctx": ["intros N Hlocal.", "qsimpl time: 1 use: cn_pts_in,getStatelet,locCn.", "qsimpl time: 1 use: cn_pts_in,getStatelet,locCn."], "tactic": ["move /negP: Hnin => Hnpts.", ""], "exn": "Illegal application: The term \"getStL\" of type \"forall (n : nat_eqType) (d : dstatelet), TPCCoh d -> n \\\\in nodes -> Log\" cannot be applied to the terms \"this\" : \"nat\" \"d j l\" : \"dstatelet\" \"pf'\" : \"tpc_coh (getStatelet j l)\" \"i0 this N\" : \"is_true (this \\\\in nodes)\" The 3rd term has type \"tpc_coh (getStatelet j l)\" which should be coercible to \"TPCCoh (d j l)\".", "type": "term_cannot_apply", "handled": false}]}, "chat": [], "original": "intros N Hlocal. destruct (locCn cn (getStatelet j l) pf' (cn_pts_in N)) as [Hval Hcase]. destruct (locCn cn (getStatelet i l) pf (cn_pts_in N)) as [_ Hci]. move /negP: Hnin => Hnpts. move: Hci Hcase. rewrite eq_refl in Hcase. case: ifP => // _ [s1 [ll1 Hlocal1]] [Hx [y Hlocal2]]. rewrite Hlocal1 Hlocal2 in Hlocal. rewrite Hlocal in Hlocal1. by apply: getStL_Kc.", "back_times": 0, "succ": false, "time": 62.054914236068726}]