[{"history": {"proof": "intros P net P_invariant do_leader_invariant_reachable. intros. qsimpl time: 1.", "repairs": ["", "no_product", "cannot_unify"], "exceptions": [{"ctx": ["intros P net P_invariant do_leader_invariant_reachable."], "tactic": "intros net st' ps' gd d h os d' ms do_leader_eq P_net reachable_net reachable_state_eq state_eq packet_inclusion.", "exn": "net is already used.", "type": "used_var", "handled": true}, {"ctx": ["intros P net P_invariant do_leader_invariant_reachable."], "tactic": "intros net' st' ps' gd d h os d' ms do_leader_eq P_net reachable_net reachable_state_eq state_eq packet_inclusion.", "exn": "No product even after head-reduction.", "type": "no_product", "handled": true}, {"ctx": ["intros P net P_invariant do_leader_invariant_reachable.", "intros."], "tactic": "eapply do_leader_invariant_reachable.", "exn": "In environment orig_base_params : BaseParams one_node_params : OneNodeParams orig_base_params raft_params : RaftParams orig_base_params P : network -> Prop net : refined_raft_net_invariant_do_leader P P_invariant : network do_leader_invariant_reachable : Net.name -> data ps' : list packet gd : ghost_data d : raft_data h : name os : list raft_output d' : raft_data ms : list (name * msg) H : doLeader d h = (os, d', ms) H0 : P P_invariant H1 : refined_raft_intermediate_reachable P_invariant H2 : refined_raft_intermediate_reachable {| nwPackets := ps'; nwState := do_leader_invariant_reachable |} H3 : nwState P_invariant h = (gd, d) H4 : forall h' : Net.name, do_leader_invariant_reachable h' = update name_eq_dec (nwState P_invariant) h (gd, d') h' H5 : forall p : packet, In p ps' -> In p (nwPackets P_invariant) \\\\/ In p (send_packets h ms) Unable to unify \"data\" with \"P {| nwPackets := ps'; nwState := do_leader_invariant_reachable |}\".", "type": "cannot_unify", "handled": true}, {"ctx": ["intros P net P_invariant do_leader_invariant_reachable.", "intros.", "qsimpl time: 1."], "tactic": "-", "exn": "Wrong bullet -: No more subgoals.", "type": "no_more_subgoals", "handled": true}]}, "chat": [], "original": "intros P net P_invariant do_leader_invariant_reachable. unfold refined_raft_net_invariant_do_leader'. intros net st' ps' gd d h os d' ms do_leader_eq P_net reachable_net reachable_state_eq state_eq packet_inclusion. eapply do_leader_invariant_reachable. - eauto. - intros h'. rewrite state_eq. reflexivity. - intros p incl. specialize (packet_inclusion p incl). destruct packet_inclusion as [incl_net | incl_send]. + left. auto. + right. auto. - unfold refined_raft_intermediate_reachable. apply reachable_state_eq. - apply reachable_net. - apply P_net.", "back_times": 0, "succ": true, "time": 0.3266022205352783}]