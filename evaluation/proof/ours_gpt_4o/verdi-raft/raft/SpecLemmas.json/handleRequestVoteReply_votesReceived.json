[{"history": {"proof": "qsimpl time: 1 use: handleRequestVoteReply_spec'.", "repairs": ["cannot_unify"], "exceptions": [{"ctx": ["intros h st t h' r v."], "tactic": "apply handleRequestVoteReply_spec'.", "exn": "In environment orig_base_params : BaseParams one_node_params : OneNodeParams orig_base_params raft_params : RaftParams orig_base_params h : name st : RaftState.raft_data term name entry logIndex serverType data clientId output t : nat h' : name r : bool v : name Unable to unify \"?M1640 = handleRequestVoteReply ?M1635 ?M1636 ?M1637 ?M1638 ?M1639\" with \"(fix In (a : name) (l : list name) {struct l} : Prop := match l with | [] => False | b :: m => b = a \\\\/ In a m end) v (votesReceived (handleRequestVoteReply h st h' t r))\".", "type": "cannot_unify", "handled": true}, {"ctx": ["intros h st t h' r v.", "qsimpl time: 1 use: handleRequestVoteReply_spec'."], "tactic": "intros Heq [Hlog [Hvotes Hrest]].", "exn": "No product even after head-reduction.", "type": "no_product", "handled": true}, {"ctx": ["intros h st t h' r v.", "qsimpl time: 1 use: handleRequestVoteReply_spec'."], "tactic": "rewrite Heq in *.", "exn": "The reference Heq was not found in the current environment.", "type": "ref_not_found", "handled": true}, {"ctx": ["intros h st t h' r v.", "qsimpl time: 1 use: handleRequestVoteReply_spec'.", "destruct (currentTerm st <? t) eqn:Hterm.", "-"], "tactic": "simpl in Hvotes.", "exn": "No such hypothesis: Hvotes", "type": "no_hypos", "handled": true}, {"ctx": ["intros h st t h' r v.", "qsimpl time: 1 use: handleRequestVoteReply_spec'.", "destruct (currentTerm st <? t) eqn:Hterm.", "-", "right.", "split.", "+"], "tactic": "+", "exn": "Wrong bullet +: Current bullet + is not finished.", "type": "unfinished_bullet", "handled": true}, {"ctx": ["intros h st t h' r v.", "qsimpl time: 1 use: handleRequestVoteReply_spec'.", "destruct (currentTerm st <? t) eqn:Hterm.", "-", "right.", "split.", "+", "shelve.", "+", "split.", "*"], "tactic": "*", "exn": "Wrong bullet *: Current bullet * is not finished.", "type": "unfinished_bullet", "handled": true}, {"ctx": ["intros h st t h' r v.", "qsimpl time: 1 use: handleRequestVoteReply_spec'.", "destruct (currentTerm st <? t) eqn:Hterm.", "-", "right.", "split.", "+", "shelve.", "+", "split.", "*", "shelve.", "*", "rewrite Nat.ltb_lt in Hterm."], "tactic": "-", "exn": "Wrong bullet -: Current bullet * is not finished.", "type": "unfinished_bullet", "handled": true}, {"ctx": ["intros h st t h' r v.", "qsimpl time: 1 use: handleRequestVoteReply_spec'.", "destruct (currentTerm st <? t) eqn:Hterm.", "-", "right.", "split.", "+", "shelve.", "+", "split.", "*", "shelve.", "*", "rewrite Nat.ltb_lt in Hterm.", "shelve.", "-", "destruct (t <? currentTerm st) eqn:Hterm'.", "+"], "tactic": "simpl in Hvotes.", "exn": "No such hypothesis: Hvotes", "type": "no_hypos", "handled": true}, {"ctx": ["intros h st t h' r v.", "qsimpl time: 1 use: handleRequestVoteReply_spec'.", "destruct (currentTerm st <? t) eqn:Hterm.", "-", "right.", "split.", "+", "shelve.", "+", "split.", "*", "shelve.", "*", "rewrite Nat.ltb_lt in Hterm.", "shelve.", "-", "destruct (t <? currentTerm st) eqn:Hterm'.", "+"], "tactic": "qsimpl time: 1 use: handleRequestVoteReply_spec',omega.", "exn": "The reference omega was not found in the current environment.", "type": "ref_not_found", "handled": true}, {"ctx": ["intros h st t h' r v.", "qsimpl time: 1 use: handleRequestVoteReply_spec'.", "destruct (currentTerm st <? t) eqn:Hterm.", "-", "right.", "split.", "+", "shelve.", "+", "split.", "*", "shelve.", "*", "rewrite Nat.ltb_lt in Hterm.", "shelve.", "-", "destruct (t <? currentTerm st) eqn:Hterm'.", "+", "left."], "tactic": "+", "exn": "Wrong bullet +: Current bullet + is not finished.", "type": "unfinished_bullet", "handled": true}, {"ctx": ["intros h st t h' r v.", "qsimpl time: 1 use: handleRequestVoteReply_spec'.", "destruct (currentTerm st <? t) eqn:Hterm.", "-", "right.", "split.", "+", "shelve.", "+", "split.", "*", "shelve.", "*", "rewrite Nat.ltb_lt in Hterm.", "shelve.", "-", "destruct (t <? currentTerm st) eqn:Hterm'.", "+", "left.", "shelve.", "+"], "tactic": "simpl in Hvotes.", "exn": "No such hypothesis: Hvotes", "type": "no_hypos", "handled": true}, {"ctx": ["intros h st t h' r v.", "qsimpl time: 1 use: handleRequestVoteReply_spec'.", "destruct (currentTerm st <? t) eqn:Hterm.", "-", "right.", "split.", "+", "shelve.", "+", "split.", "*", "shelve.", "*", "rewrite Nat.ltb_lt in Hterm.", "shelve.", "-", "destruct (t <? currentTerm st) eqn:Hterm'.", "+", "left.", "shelve.", "+"], "tactic": "qsimpl time: 1 use: handleRequestVoteReply_spec',omega.", "exn": "The reference omega was not found in the current environment.", "type": "ref_not_found", "handled": true}, {"ctx": ["intros h st t h' r v.", "qsimpl time: 1 use: handleRequestVoteReply_spec'.", "destruct (currentTerm st <? t) eqn:Hterm.", "-", "right.", "split.", "+", "shelve.", "+", "split.", "*", "shelve.", "*", "rewrite Nat.ltb_lt in Hterm.", "shelve.", "-", "destruct (t <? currentTerm st) eqn:Hterm'.", "+", "left.", "shelve.", "+", "destruct (type st).", "*"], "tactic": "simpl in Hvotes.", "exn": "No such hypothesis: Hvotes", "type": "no_hypos", "handled": true}, {"ctx": ["intros h st t h' r v.", "qsimpl time: 1 use: handleRequestVoteReply_spec'.", "destruct (currentTerm st <? t) eqn:Hterm.", "-", "right.", "split.", "+", "shelve.", "+", "split.", "*", "shelve.", "*", "rewrite Nat.ltb_lt in Hterm.", "shelve.", "-", "destruct (t <? currentTerm st) eqn:Hterm'.", "+", "left.", "shelve.", "+", "destruct (type st).", "*"], "tactic": "qsimpl time: 1 use: handleRequestVoteReply_spec',omega.", "exn": "The reference omega was not found in the current environment.", "type": "ref_not_found", "handled": true}, {"ctx": ["intros h st t h' r v.", "qsimpl time: 1 use: handleRequestVoteReply_spec'.", "destruct (currentTerm st <? t) eqn:Hterm.", "-", "right.", "split.", "+", "shelve.", "+", "split.", "*", "shelve.", "*", "rewrite Nat.ltb_lt in Hterm.", "shelve.", "-", "destruct (t <? currentTerm st) eqn:Hterm'.", "+", "left.", "shelve.", "+", "destruct (type st).", "*", "left."], "tactic": "*", "exn": "Wrong bullet *: Current bullet * is not finished.", "type": "unfinished_bullet", "handled": true}, {"ctx": ["intros h st t h' r v.", "qsimpl time: 1 use: handleRequestVoteReply_spec'.", "destruct (currentTerm st <? t) eqn:Hterm.", "-", "right.", "split.", "+", "shelve.", "+", "split.", "*", "shelve.", "*", "rewrite Nat.ltb_lt in Hterm.", "shelve.", "-", "destruct (t <? currentTerm st) eqn:Hterm'.", "+", "left.", "shelve.", "+", "destruct (type st).", "*", "left.", "shelve.", "*"], "tactic": "simpl in Hvotes.", "exn": "No such hypothesis: Hvotes", "type": "no_hypos", "handled": true}, {"ctx": ["intros h st t h' r v.", "qsimpl time: 1 use: handleRequestVoteReply_spec'.", "destruct (currentTerm st <? t) eqn:Hterm.", "-", "right.", "split.", "+", "shelve.", "+", "split.", "*", "shelve.", "*", "rewrite Nat.ltb_lt in Hterm.", "shelve.", "-", "destruct (t <? currentTerm st) eqn:Hterm'.", "+", "left.", "shelve.", "+", "destruct (type st).", "*", "left.", "shelve.", "*"], "tactic": "qsimpl time: 1 use: handleRequestVoteReply_spec',omega.", "exn": "The reference omega was not found in the current environment.", "type": "ref_not_found", "handled": true}, {"ctx": ["intros h st t h' r v.", "qsimpl time: 1 use: handleRequestVoteReply_spec'.", "destruct (currentTerm st <? t) eqn:Hterm.", "-", "right.", "split.", "+", "shelve.", "+", "split.", "*", "shelve.", "*", "rewrite Nat.ltb_lt in Hterm.", "shelve.", "-", "destruct (t <? currentTerm st) eqn:Hterm'.", "+", "left.", "shelve.", "+", "destruct (type st).", "*", "left.", "shelve.", "*"], "tactic": "destruct (wonElection (List.dedup name_eq_dec (h' :: votesReceived st))).", "exn": "The reference List.dedup was not found in the current environment.", "type": "ref_not_found", "handled": true}, {"ctx": ["intros h st t h' r v.", "qsimpl time: 1 use: handleRequestVoteReply_spec'.", "destruct (currentTerm st <? t) eqn:Hterm.", "-", "right.", "split.", "+", "shelve.", "+", "split.", "*", "shelve.", "*", "rewrite Nat.ltb_lt in Hterm.", "shelve.", "-", "destruct (t <? currentTerm st) eqn:Hterm'.", "+", "left.", "shelve.", "+", "destruct (type st).", "*", "left.", "shelve.", "*", "destruct (wonElection (dedup name_eq_dec (h' :: votesReceived st))).", "--"], "tactic": "simpl in Hvotes.", "exn": "No such hypothesis: Hvotes", "type": "no_hypos", "handled": true}, {"ctx": ["intros h st t h' r v.", "qsimpl time: 1 use: handleRequestVoteReply_spec'.", "destruct (currentTerm st <? t) eqn:Hterm.", "-", "right.", "split.", "+", "shelve.", "+", "split.", "*", "shelve.", "*", "rewrite Nat.ltb_lt in Hterm.", "shelve.", "-", "destruct (t <? currentTerm st) eqn:Hterm'.", "+", "left.", "shelve.", "+", "destruct (type st).", "*", "left.", "shelve.", "*", "destruct (wonElection (dedup name_eq_dec (h' :: votesReceived st))).", "--"], "tactic": "qsimpl time: 1 use: handleRequestVoteReply_spec',omega.", "exn": "The reference omega was not found in the current environment.", "type": "ref_not_found", "handled": true}, {"ctx": ["intros h st t h' r v.", "qsimpl time: 1 use: handleRequestVoteReply_spec'.", "destruct (currentTerm st <? t) eqn:Hterm.", "-", "right.", "split.", "+", "shelve.", "+", "split.", "*", "shelve.", "*", "rewrite Nat.ltb_lt in Hterm.", "shelve.", "-", "destruct (t <? currentTerm st) eqn:Hterm'.", "+", "left.", "shelve.", "+", "destruct (type st).", "*", "left.", "shelve.", "*", "destruct (wonElection (dedup name_eq_dec (h' :: votesReceived st))).", "--", "destruct r.", "++", "right.", "split.", "auto.", "split."], "tactic": "++", "exn": "Wrong bullet ++: Current bullet ++ is not finished.", "type": "unfinished_bullet", "handled": true}, {"ctx": ["intros h st t h' r v.", "qsimpl time: 1 use: handleRequestVoteReply_spec'.", "destruct (currentTerm st <? t) eqn:Hterm.", "-", "right.", "split.", "+", "shelve.", "+", "split.", "*", "shelve.", "*", "rewrite Nat.ltb_lt in Hterm.", "shelve.", "-", "destruct (t <? currentTerm st) eqn:Hterm'.", "+", "left.", "shelve.", "+", "destruct (type st).", "*", "left.", "shelve.", "*", "destruct (wonElection (dedup name_eq_dec (h' :: votesReceived st))).", "--", "destruct r.", "++", "right.", "split.", "auto.", "split.", "**", "shelve.", "**", "shelve.", "++"], "tactic": "simpl in Hvotes.", "exn": "No such hypothesis: Hvotes", "type": "no_hypos", "handled": true}, {"ctx": ["intros h st t h' r v.", "qsimpl time: 1 use: handleRequestVoteReply_spec'.", "destruct (currentTerm st <? t) eqn:Hterm.", "-", "right.", "split.", "+", "shelve.", "+", "split.", "*", "shelve.", "*", "rewrite Nat.ltb_lt in Hterm.", "shelve.", "-", "destruct (t <? currentTerm st) eqn:Hterm'.", "+", "left.", "shelve.", "+", "destruct (type st).", "*", "left.", "shelve.", "*", "destruct (wonElection (dedup name_eq_dec (h' :: votesReceived st))).", "--", "destruct r.", "++", "right.", "split.", "auto.", "split.", "**", "shelve.", "**", "shelve.", "++"], "tactic": "qsimpl time: 1 use: handleRequestVoteReply_spec',omega.", "exn": "The reference omega was not found in the current environment.", "type": "ref_not_found", "handled": true}, {"ctx": ["intros h st t h' r v.", "qsimpl time: 1 use: handleRequestVoteReply_spec'.", "destruct (currentTerm st <? t) eqn:Hterm.", "-", "right.", "split.", "+", "shelve.", "+", "split.", "*", "shelve.", "*", "rewrite Nat.ltb_lt in Hterm.", "shelve.", "-", "destruct (t <? currentTerm st) eqn:Hterm'.", "+", "left.", "shelve.", "+", "destruct (type st).", "*", "left.", "shelve.", "*", "destruct (wonElection (dedup name_eq_dec (h' :: votesReceived st))).", "--", "destruct r.", "++", "right.", "split.", "auto.", "split.", "**", "shelve.", "**", "shelve.", "++", "left."], "tactic": "--", "exn": "Wrong bullet --: Current bullet ++ is not finished.", "type": "unfinished_bullet", "handled": true}, {"ctx": ["intros h st t h' r v.", "qsimpl time: 1 use: handleRequestVoteReply_spec'.", "destruct (currentTerm st <? t) eqn:Hterm.", "-", "right.", "split.", "+", "shelve.", "+", "split.", "*", "shelve.", "*", "rewrite Nat.ltb_lt in Hterm.", "shelve.", "-", "destruct (t <? currentTerm st) eqn:Hterm'.", "+", "left.", "shelve.", "+", "destruct (type st).", "*", "left.", "shelve.", "*", "destruct (wonElection (dedup name_eq_dec (h' :: votesReceived st))).", "--", "destruct r.", "++", "right.", "split.", "auto.", "split.", "**", "shelve.", "**", "shelve.", "++", "left.", "shelve.", "--"], "tactic": "simpl in Hvotes.", "exn": "No such hypothesis: Hvotes", "type": "no_hypos", "handled": true}, {"ctx": ["intros h st t h' r v.", "qsimpl time: 1 use: handleRequestVoteReply_spec'.", "destruct (currentTerm st <? t) eqn:Hterm.", "-", "right.", "split.", "+", "shelve.", "+", "split.", "*", "shelve.", "*", "rewrite Nat.ltb_lt in Hterm.", "shelve.", "-", "destruct (t <? currentTerm st) eqn:Hterm'.", "+", "left.", "shelve.", "+", "destruct (type st).", "*", "left.", "shelve.", "*", "destruct (wonElection (dedup name_eq_dec (h' :: votesReceived st))).", "--", "destruct r.", "++", "right.", "split.", "auto.", "split.", "**", "shelve.", "**", "shelve.", "++", "left.", "shelve.", "--"], "tactic": "qsimpl time: 1 use: handleRequestVoteReply_spec',omega.", "exn": "The reference omega was not found in the current environment.", "type": "ref_not_found", "handled": true}, {"ctx": ["intros h st t h' r v.", "qsimpl time: 1 use: handleRequestVoteReply_spec'.", "destruct (currentTerm st <? t) eqn:Hterm.", "-", "right.", "split.", "+", "shelve.", "+", "split.", "*", "shelve.", "*", "rewrite Nat.ltb_lt in Hterm.", "shelve.", "-", "destruct (t <? currentTerm st) eqn:Hterm'.", "+", "left.", "shelve.", "+", "destruct (type st).", "*", "left.", "shelve.", "*", "destruct (wonElection (dedup name_eq_dec (h' :: votesReceived st))).", "--", "destruct r.", "++", "right.", "split.", "auto.", "split.", "**", "shelve.", "**", "shelve.", "++", "left.", "shelve.", "--", "left."], "tactic": "*", "exn": "Wrong bullet *: Current bullet -- is not finished.", "type": "unfinished_bullet", "handled": true}, {"ctx": ["intros h st t h' r v.", "qsimpl time: 1 use: handleRequestVoteReply_spec'.", "destruct (currentTerm st <? t) eqn:Hterm.", "-", "right.", "split.", "+", "shelve.", "+", "split.", "*", "shelve.", "*", "rewrite Nat.ltb_lt in Hterm.", "shelve.", "-", "destruct (t <? currentTerm st) eqn:Hterm'.", "+", "left.", "shelve.", "+", "destruct (type st).", "*", "left.", "shelve.", "*", "destruct (wonElection (dedup name_eq_dec (h' :: votesReceived st))).", "--", "destruct r.", "++", "right.", "split.", "auto.", "split.", "**", "shelve.", "**", "shelve.", "++", "left.", "shelve.", "--", "left.", "shelve.", "*"], "tactic": "simpl in Hvotes.", "exn": "No such hypothesis: Hvotes", "type": "no_hypos", "handled": true}, {"ctx": ["intros h st t h' r v.", "qsimpl time: 1 use: handleRequestVoteReply_spec'.", "destruct (currentTerm st <? t) eqn:Hterm.", "-", "right.", "split.", "+", "shelve.", "+", "split.", "*", "shelve.", "*", "rewrite Nat.ltb_lt in Hterm.", "shelve.", "-", "destruct (t <? currentTerm st) eqn:Hterm'.", "+", "left.", "shelve.", "+", "destruct (type st).", "*", "left.", "shelve.", "*", "destruct (wonElection (dedup name_eq_dec (h' :: votesReceived st))).", "--", "destruct r.", "++", "right.", "split.", "auto.", "split.", "**", "shelve.", "**", "shelve.", "++", "left.", "shelve.", "--", "left.", "shelve.", "*"], "tactic": "qsimpl time: 1 use: handleRequestVoteReply_spec',omega.", "exn": "The reference omega was not found in the current environment.", "type": "ref_not_found", "handled": true}]}, "chat": [], "original": "intros h st t h' r v. apply handleRequestVoteReply_spec'. intros Heq [Hlog [Hvotes Hrest]]. rewrite Heq in *. destruct (currentTerm st <? t) eqn:Hterm. - simpl in Hvotes. right. split. + auto. + split. * auto. * rewrite Nat.ltb_lt in Hterm. omega. - destruct (t <? currentTerm st) eqn:Hterm'. + simpl in Hvotes. left. eauto. + simpl in Hvotes. destruct (type st). * simpl in Hvotes. left. eauto. * simpl in Hvotes. destruct (wonElection (List.dedup name_eq_dec (h' :: votesReceived st))). -- simpl in Hvotes. destruct r. ++ simpl. right. split. auto. split. auto. auto. ++ simpl in Hvotes. left. eauto. -- simpl in Hvotes. left. eauto. * simpl in Hvotes. left. eauto.", "back_times": 0, "succ": false, "time": 305.7394382953644}]