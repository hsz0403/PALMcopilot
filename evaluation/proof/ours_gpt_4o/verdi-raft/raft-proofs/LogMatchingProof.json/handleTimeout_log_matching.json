[{"history": {"proof": "", "repairs": [], "exceptions": [{"ctx": [], "tactic": "apply raft_net_invariant.", "exn": "Unable to find an instance for the variable net.", "type": "no_instance_var", "handled": true}, {"ctx": ["qsimpl time: 1 use: raft_net_invariant."], "tactic": "eapply log_matching_invariant.", "exn": "In environment orig_base_params : BaseParams one_node_params : OneNodeParams orig_base_params raft_params : RaftParams orig_base_params H : forall (P : network -> Prop) (net : network), raft_net_invariant_init P -> raft_net_invariant_client_request P -> raft_net_invariant_timeout P -> raft_net_invariant_append_entries P -> raft_net_invariant_append_entries_reply P -> raft_net_invariant_request_vote P -> raft_net_invariant_request_vote_reply P -> raft_net_invariant_do_leader P -> raft_net_invariant_do_generic_server P -> raft_net_invariant_state_same_packet_subset P -> raft_net_invariant_reboot P -> raft_intermediate_reachable net -> P net UniqueIndices_invariant : forall net : network, raft_intermediate_reachable net -> UniqueIndices net leader_sublog_invariant_invariant : forall net : network, raft_intermediate_reachable net -> leader_sublog_invariant net handleAppendEntries_logs_sorted : forall (net : network) (p : packet) (t : term) (n : name) (pli : logIndex) (plt : term) (es : list entry) (ci : logIndex) (st' : raft_data) (m : msg), raft_intermediate_reachable net -> logs_sorted net -> handleAppendEntries (pDst p) (nwState net (pDst p)) t n pli plt es ci = (st', m) -> pBody p = AppendEntries t n pli plt es ci -> In p (nwPackets net) -> sorted (log st') handleClientRequest_logs_sorted : forall (h : name) (client : clientId) (id : nat) (c : input) (out : list raft_output) (st : raft_data) (l : list (name * msg)) (net : network), handleClientRequest h (nwState net h) client id c = (out, st, l) -> raft_intermediate_reachable net -> logs_sorted_host net -> sorted (log st) logs_sorted_invariant : forall net : network, raft_intermediate_reachable net -> logs_sorted net Unable to unify \"log_matching_hosts ?M14961 /\\\\ log_matching_nw ?M14961\" with \"forall (net : network) (h : name) (st' : name -> data) (ps' : list packet) (out : list raft_output) (d : raft_data) (l : list (name * msg)), handleTimeout h (nwState net h) = (out, d, l) -> log_matching net -> raft_intermediate_reachable net -> (forall h' : name, st' h' = update name_eq_dec (nwState net) h d h') -> (forall p' : packet, In p' ps' -> In p' (nwPackets net) \\\\/ In p' (send_packets h l)) -> log_matching {| nwPackets := ps'; nwState := st' |}\".", "type": "cannot_unify", "handled": true}, {"ctx": ["qsimpl time: 1 use: raft_net_invariant.", "qsimpl time: 1 use: log_matching_invariant,raft_net_invariant.", "-"], "tactic": "eapply log_matching_state_same_packet_subset; eauto.", "exn": "In environment orig_base_params : BaseParams one_node_params : OneNodeParams orig_base_params raft_params : RaftParams orig_base_params H1 : forall (P : network -> Prop) (net : network), raft_net_invariant_init P -> raft_net_invariant_client_request P -> raft_net_invariant_timeout P -> raft_net_invariant_append_entries P -> raft_net_invariant_append_entries_reply P -> raft_net_invariant_request_vote P -> raft_net_invariant_request_vote_reply P -> raft_net_invariant_do_leader P -> raft_net_invariant_do_generic_server P -> raft_net_invariant_state_same_packet_subset P -> raft_net_invariant_reboot P -> raft_intermediate_reachable net -> P net UniqueIndices_invariant : forall net : network, raft_intermediate_reachable net -> UniqueIndices net leader_sublog_invariant_invariant : forall net : network, raft_intermediate_reachable net -> leader_sublog_invariant net handleAppendEntries_logs_sorted : forall (net : network) (p : packet) (t : term) (n : name) (pli : logIndex) (plt : term) (es : list entry) (ci : logIndex) (st' : raft_data) (m : msg), raft_intermediate_reachable net -> logs_sorted net -> handleAppendEntries (pDst p) (nwState net (pDst p)) t n pli plt es ci = (st', m) -> pBody p = AppendEntries t n pli plt es ci -> In p (nwPackets net) -> sorted (log st') handleClientRequest_logs_sorted : forall (h : name) (client : clientId) (id : nat) (c : input) (out : list raft_output) (st : raft_data) (l : list (name * msg)) (net : network), handleClientRequest h (nwState net h) client id c = (out, st, l) -> raft_intermediate_reachable net -> logs_sorted_host net -> sorted (log st) logs_sorted_invariant : forall net : network, raft_intermediate_reachable net -> logs_sorted net H0 : forall net : network, raft_intermediate_reachable net -> log_matching net Unable to unify \"log_matching_hosts ?M25609 /\\\\ log_matching_nw ?M25609\" with \"forall (net : network) (h : name) (st' : name -> data) (ps' : list packet) (out : list raft_output) (d : raft_data) (l : list (name * msg)), handleTimeout h (nwState net h) = (out, d, l) -> log_matching net -> raft_intermediate_reachable net -> (forall h' : name, st' h' = update name_eq_dec (nwState net) h d h') -> (forall p' : packet, In p' ps' -> In p' (nwPackets net) \\\\/ In p' (send_packets h l)) -> log_matching {| nwPackets := ps'; nwState := st' |}\".", "type": "cannot_unify", "handled": true}, {"ctx": ["qsimpl time: 1 use: raft_net_invariant.", "qsimpl time: 1 use: log_matching_invariant,raft_net_invariant.", "-", "qsimpl time: 1 use: log_matching_state_same_packet_subset,log_matching_invariant,raft_net_invariant."], "tactic": "-", "exn": "Wrong bullet -: Current bullet - is not finished.", "type": "unfinished_bullet", "handled": true}, {"ctx": ["qsimpl time: 1 use: raft_net_invariant.", "qsimpl time: 1 use: log_matching_invariant,raft_net_invariant.", "-", "qsimpl time: 1 use: log_matching_state_same_packet_subset,log_matching_invariant,raft_net_invariant.", "shelve.", "-"], "tactic": "eapply log_matching_state_same_packet_subset; eauto.", "exn": "In environment orig_base_params : BaseParams one_node_params : OneNodeParams orig_base_params raft_params : RaftParams orig_base_params H : forall (P : network -> Prop) (net : network), raft_net_invariant_init P -> raft_net_invariant_client_request P -> raft_net_invariant_timeout P -> raft_net_invariant_append_entries P -> raft_net_invariant_append_entries_reply P -> raft_net_invariant_request_vote P -> raft_net_invariant_request_vote_reply P -> raft_net_invariant_do_leader P -> raft_net_invariant_do_generic_server P -> raft_net_invariant_state_same_packet_subset P -> raft_net_invariant_reboot P -> raft_intermediate_reachable net -> P net UniqueIndices_invariant : forall net : network, raft_intermediate_reachable net -> UniqueIndices net leader_sublog_invariant_invariant : forall net : network, raft_intermediate_reachable net -> leader_sublog_invariant net handleAppendEntries_logs_sorted : forall (net : network) (p : packet) (t : term) (n : name) (pli : logIndex) (plt : term) (es : list entry) (ci : logIndex) (st' : raft_data) (m : msg), raft_intermediate_reachable net -> logs_sorted net -> handleAppendEntries (pDst p) (nwState net (pDst p)) t n pli plt es ci = (st', m) -> pBody p = AppendEntries t n pli plt es ci -> In p (nwPackets net) -> sorted (log st') handleClientRequest_logs_sorted : forall (h : name) (client : clientId) (id : nat) (c : input) (out : list raft_output) (st : raft_data) (l : list (name * msg)) (net : network), handleClientRequest h (nwState net h) client id c = (out, st, l) -> raft_intermediate_reachable net -> logs_sorted_host net -> sorted (log st) logs_sorted_invariant : forall net : network, raft_intermediate_reachable net -> logs_sorted net Unable to unify \"log_matching_hosts ?M34183 /\\\\ log_matching_nw ?M34183\" with \"log_matching_interface\".", "type": "cannot_unify", "handled": true}, {"ctx": ["qsimpl time: 1 use: raft_net_invariant.", "qsimpl time: 1 use: log_matching_invariant,raft_net_invariant.", "-", "qsimpl time: 1 use: log_matching_state_same_packet_subset,log_matching_invariant,raft_net_invariant.", "shelve.", "-"], "tactic": "-", "exn": "Wrong bullet -: Current bullet - is not finished.", "type": "unfinished_bullet", "handled": true}, {"ctx": ["qsimpl time: 1 use: raft_net_invariant.", "qsimpl time: 1 use: log_matching_invariant,raft_net_invariant.", "-", "qsimpl time: 1 use: log_matching_state_same_packet_subset,log_matching_invariant,raft_net_invariant.", "shelve.", "-", "shelve."], "tactic": "-", "exn": "Wrong bullet -: No more subgoals.", "type": "no_more_subgoals", "handled": true}]}, "chat": [], "original": "apply raft_net_invariant. - intros. eapply log_matching_invariant. eauto. - intros. eapply log_matching_state_same_packet_subset; eauto. - intros. eapply log_matching_state_same_packet_subset; eauto. - intros. eapply log_matching_state_same_packet_subset; eauto. - intros. eapply log_matching_state_same_packet_subset; eauto. - intros. eapply log_matching_state_same_packet_subset; eauto. - intros. eapply log_matching_state_same_packet_subset; eauto. - intros. eapply log_matching_state_same_packet_subset; eauto. - intros. eapply log_matching_state_same_packet_subset; eauto. - intros. eapply log_matching_state_same_packet_subset; eauto. - intros. eapply log_matching_state_same_packet_subset; eauto. - intros. eapply log_matching_invariant; eauto.", "back_times": 0, "succ": false, "time": 79.17131567001343}]