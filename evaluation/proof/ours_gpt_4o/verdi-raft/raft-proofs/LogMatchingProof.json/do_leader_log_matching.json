[{"history": {"proof": "", "repairs": [], "exceptions": [{"ctx": [], "tactic": "apply raft_net_invariant.", "exn": "Unable to find an instance for the variable net.", "type": "no_instance_var", "handled": true}, {"ctx": ["qsimpl time: 1 use: raft_net_invariant."], "tactic": "eapply log_matching_invariant; eauto.", "exn": "In environment orig_base_params : BaseParams one_node_params : OneNodeParams orig_base_params raft_params : RaftParams orig_base_params H : forall (P : network -> Prop) (net : network), raft_net_invariant_init P -> raft_net_invariant_client_request P -> raft_net_invariant_timeout P -> raft_net_invariant_append_entries P -> raft_net_invariant_append_entries_reply P -> raft_net_invariant_request_vote P -> raft_net_invariant_request_vote_reply P -> raft_net_invariant_do_leader P -> raft_net_invariant_do_generic_server P -> raft_net_invariant_state_same_packet_subset P -> raft_net_invariant_reboot P -> raft_intermediate_reachable net -> P net UniqueIndices_invariant : forall net : network, raft_intermediate_reachable net -> UniqueIndices net leader_sublog_invariant_invariant : forall net : network, raft_intermediate_reachable net -> leader_sublog_invariant net handleAppendEntries_logs_sorted : forall (net : network) (p : packet) (t : term) (n : name) (pli : logIndex) (plt : term) (es : list entry) (ci : logIndex) (st' : raft_data) (m : msg), raft_intermediate_reachable net -> logs_sorted net -> handleAppendEntries (pDst p) (nwState net (pDst p)) t n pli plt es ci = (st', m) -> pBody p = AppendEntries t n pli plt es ci -> In p (nwPackets net) -> sorted (log st') handleClientRequest_logs_sorted : forall (h : name) (client : clientId) (id : nat) (c : input) (out : list raft_output) (st : raft_data) (l : list (name * msg)) (net : network), handleClientRequest h (nwState net h) client id c = (out, st, l) -> raft_intermediate_reachable net -> logs_sorted_host net -> sorted (log st) logs_sorted_invariant : forall net : network, raft_intermediate_reachable net -> logs_sorted net Unable to unify \"log_matching_hosts ?M14558 /\\\\ log_matching_nw ?M14558\" with \"forall (net : network) (st' : name -> data) (ps' : list packet) (d : raft_data) (h : name) (os : list raft_output) (d' : raft_data) (ms : list (name * msg)), doLeader d h = (os, d', ms) -> log_matching net -> raft_intermediate_reachable net -> nwState net h = d -> (forall h' : name, st' h' = update name_eq_dec (nwState net) h d' h') -> (forall p : packet, In p ps' -> In p (nwPackets net) \\\\/ In p (send_packets h ms)) -> log_matching {| nwPackets := ps'; nwState := st' |}\".", "type": "cannot_unify", "handled": true}, {"ctx": ["qsimpl time: 1 use: raft_net_invariant.", "qsimpl time: 1 use: log_matching_invariant,raft_net_invariant.", "-"], "tactic": "eapply raft_invariant_handle_message; eauto.", "exn": "Found no subterm matching \"{| nwPackets := ?M25611; nwState := ?M25610 |}\" in the current goal.", "type": "no_subterm", "handled": true}, {"ctx": ["qsimpl time: 1 use: raft_net_invariant.", "qsimpl time: 1 use: log_matching_invariant,raft_net_invariant.", "-", "qsimpl time: 1 use: raft_invariant_handle_message,log_matching_invariant,raft_net_invariant."], "tactic": "-", "exn": "Wrong bullet -: Current bullet - is not finished.", "type": "unfinished_bullet", "handled": true}, {"ctx": ["qsimpl time: 1 use: raft_net_invariant.", "qsimpl time: 1 use: log_matching_invariant,raft_net_invariant.", "-", "qsimpl time: 1 use: raft_invariant_handle_message,log_matching_invariant,raft_net_invariant.", "shelve.", "-"], "tactic": "eapply raft_invariant_handle_message; eauto.", "exn": "Found no subterm matching \"{| nwPackets := ?M35229; nwState := ?M35228 |}\" in the current goal.", "type": "no_subterm", "handled": true}, {"ctx": ["qsimpl time: 1 use: raft_net_invariant.", "qsimpl time: 1 use: log_matching_invariant,raft_net_invariant.", "-", "qsimpl time: 1 use: raft_invariant_handle_message,log_matching_invariant,raft_net_invariant.", "shelve.", "-"], "tactic": "-", "exn": "Wrong bullet -: Current bullet - is not finished.", "type": "unfinished_bullet", "handled": true}, {"ctx": ["qsimpl time: 1 use: raft_net_invariant.", "qsimpl time: 1 use: log_matching_invariant,raft_net_invariant.", "-", "qsimpl time: 1 use: raft_invariant_handle_message,log_matching_invariant,raft_net_invariant.", "shelve.", "-", "shelve."], "tactic": "-", "exn": "Wrong bullet -: No more subgoals.", "type": "no_more_subgoals", "handled": true}]}, "chat": [], "original": "apply raft_net_invariant. - intros. eapply log_matching_invariant; eauto. - intros. eapply raft_invariant_handle_message; eauto. - intros. eapply raft_invariant_handle_message; eauto. - intros. eapply raft_invariant_handle_message; eauto. - intros. eapply raft_invariant_handle_message; eauto. - intros. eapply raft_invariant_handle_message; eauto. - intros. eapply raft_invariant_handle_message; eauto. - intros. eapply raft_invariant_handle_message; eauto. - intros. eapply raft_invariant_handle_message; eauto. - intros. eapply raft_net_invariant_state_same_packet_subset; eauto. - intros. eapply raft_invariant_handle_message; eauto.", "back_times": 0, "succ": false, "time": 79.82695627212524}]