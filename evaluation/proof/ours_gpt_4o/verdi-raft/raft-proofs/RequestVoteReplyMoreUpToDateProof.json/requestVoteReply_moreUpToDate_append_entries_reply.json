[{"history": {"proof": "", "repairs": [], "exceptions": [{"ctx": ["intros net h st' ps' gd out d l.", "intros Ht Hg Hinv Hreachable Hst' Hps'."], "tactic": "apply (requestVoteReply_moreUpToDate_invariant net) in Hreachable as HmoreUpToDate.", "exn": "In environment orig_base_params : BaseParams one_node_params : OneNodeParams orig_base_params raft_params : RaftParams orig_base_params rri : raft_refinement_interface rvmimti : requestVote_maxIndex_maxTerm_interface rvrtsi : requestVoteReply_term_sanity_interface vfmutdi : votedFor_moreUpToDate_interface net : list packet h : packet st' : list packet ps' : network gd : name -> data out : list packet d : GhostSimulations.ghost_data l : raft_data Ht : list (name * msg) Hg : nat Hinv : list entry Hreachable : bool Hst' : handleAppendEntriesReply (pDst h) (snd (nwState ps' (pDst h))) (pSrc h) Hg Hinv Hreachable = (l, Ht) Hps' : d = fst (nwState ps' (pDst h)) The term \"net\" has type \"list packet\" while it is expected to have type \"network\".", "type": "wrong_type", "handled": true}, {"ctx": ["intros net h st' ps' gd out d l.", "intros Ht Hg Hinv Hreachable Hst' Hps'.", "qsimpl time: 1 use: requestVoteReply_moreUpToDate_invariant.", "-"], "tactic": "-", "exn": "Wrong bullet -: Current bullet - is not finished.", "type": "unfinished_bullet", "handled": true}, {"ctx": ["intros net h st' ps' gd out d l.", "intros Ht Hg Hinv Hreachable Hst' Hps'.", "qsimpl time: 1 use: requestVoteReply_moreUpToDate_invariant.", "-", "shelve.", "-"], "tactic": "apply (requestVoteReply_term_sanity net) in Hst'.", "exn": "In environment orig_base_params : BaseParams one_node_params : OneNodeParams orig_base_params raft_params : RaftParams orig_base_params rri : raft_refinement_interface rvmimti : requestVote_maxIndex_maxTerm_interface rvrtsi : requestVoteReply_term_sanity_interface vfmutdi : votedFor_moreUpToDate_interface net : list packet h : packet st' : list packet ps' : network gd : name -> data out : list packet d : GhostSimulations.ghost_data l : raft_data Ht : list (name * msg) Hg : nat Hinv : list entry Hreachable : bool Hst' : handleAppendEntriesReply (pDst h) (snd (nwState ps' (pDst h))) (pSrc h) Hg Hinv Hreachable = (l, Ht) Hps' : d = fst (nwState ps' (pDst h)) The term \"net\" has type \"list packet\" while it is expected to have type \"network\".", "type": "wrong_type", "handled": true}, {"ctx": ["intros net h st' ps' gd out d l.", "intros Ht Hg Hinv Hreachable Hst' Hps'.", "qsimpl time: 1 use: requestVoteReply_moreUpToDate_invariant.", "-", "shelve.", "-"], "tactic": "apply (votedFor_moreUpToDate net).", "exn": "In environment orig_base_params : BaseParams one_node_params : OneNodeParams orig_base_params raft_params : RaftParams orig_base_params rri : raft_refinement_interface rvmimti : requestVote_maxIndex_maxTerm_interface rvrtsi : requestVoteReply_term_sanity_interface vfmutdi : votedFor_moreUpToDate_interface net : list packet h : packet st' : list packet ps' : network gd : name -> data out : list packet d : GhostSimulations.ghost_data l : raft_data Ht : list (name * msg) Hg : nat Hinv : list entry Hreachable : bool Hst' : handleAppendEntriesReply (pDst h) (snd (nwState ps' (pDst h))) (pSrc h) Hg Hinv Hreachable = (l, Ht) Hps' : d = fst (nwState ps' (pDst h)) The term \"net\" has type \"list packet\" while it is expected to have type \"network\".", "type": "wrong_type", "handled": true}, {"ctx": ["intros net h st' ps' gd out d l.", "intros Ht Hg Hinv Hreachable Hst' Hps'.", "qsimpl time: 1 use: requestVoteReply_moreUpToDate_invariant.", "-", "shelve.", "-"], "tactic": "intros t h' Hterm Htype Hvoted Hcurrent.", "exn": "No product even after head-reduction.", "type": "no_product", "handled": true}, {"ctx": ["intros net h st' ps' gd out d l.", "intros Ht Hg Hinv Hreachable Hst' Hps'.", "qsimpl time: 1 use: requestVoteReply_moreUpToDate_invariant.", "-", "shelve.", "-"], "tactic": "apply (requestVote_maxIndex_maxTerm_invariant net) in Hreachable as HmaxIndexTerm.", "exn": "In environment orig_base_params : BaseParams one_node_params : OneNodeParams orig_base_params raft_params : RaftParams orig_base_params rri : raft_refinement_interface rvmimti : requestVote_maxIndex_maxTerm_interface rvrtsi : requestVoteReply_term_sanity_interface vfmutdi : votedFor_moreUpToDate_interface net : list packet h : packet st' : list packet ps' : network gd : name -> data out : list packet d : GhostSimulations.ghost_data l : raft_data Ht : list (name * msg) Hg : nat Hinv : list entry Hreachable : bool Hst' : handleAppendEntriesReply (pDst h) (snd (nwState ps' (pDst h))) (pSrc h) Hg Hinv Hreachable = (l, Ht) Hps' : d = fst (nwState ps' (pDst h)) The term \"net\" has type \"list packet\" while it is expected to have type \"network\".", "type": "wrong_type", "handled": true}, {"ctx": ["intros net h st' ps' gd out d l.", "intros Ht Hg Hinv Hreachable Hst' Hps'.", "qsimpl time: 1 use: requestVoteReply_moreUpToDate_invariant.", "-", "shelve.", "-"], "tactic": "unfold requestVote_maxIndex_maxTerm in HmaxIndexTerm.", "exn": "No such hypothesis: HmaxIndexTerm", "type": "no_hypos", "handled": true}, {"ctx": ["intros net h st' ps' gd out d l.", "intros Ht Hg Hinv Hreachable Hst' Hps'.", "qsimpl time: 1 use: requestVoteReply_moreUpToDate_invariant.", "-", "shelve.", "-"], "tactic": "destruct (HmaxIndexTerm t h' Hvoted Hterm eq_refl eq_refl) as [HmaxI HmaxT].", "exn": "The reference HmaxIndexTerm was not found in the current environment.", "type": "ref_not_found", "handled": true}, {"ctx": ["intros net h st' ps' gd out d l.", "intros Ht Hg Hinv Hreachable Hst' Hps'.", "qsimpl time: 1 use: requestVoteReply_moreUpToDate_invariant.", "-", "shelve.", "-"], "tactic": "eapply votedFor_moreUpToDate; eauto.", "exn": "In environment orig_base_params : BaseParams one_node_params : OneNodeParams orig_base_params raft_params : RaftParams orig_base_params rri : raft_refinement_interface rvmimti : requestVote_maxIndex_maxTerm_interface rvrtsi : requestVoteReply_term_sanity_interface vfmutdi : votedFor_moreUpToDate_interface net : list packet h : packet st' : list packet ps' : network gd : name -> data out : list packet d : GhostSimulations.ghost_data l : raft_data Ht : list (name * msg) Hg : nat Hinv : list entry Hreachable : bool Hst' : handleAppendEntriesReply (pDst h) (snd (nwState ps' (pDst h))) (pSrc h) Hg Hinv Hreachable = (l, Ht) Hps' : d = fst (nwState ps' (pDst h)) Unable to unify \"Prop\" with \"requestVoteReply_moreUpToDate_interface\".", "type": "cannot_unify", "handled": true}, {"ctx": ["intros net h st' ps' gd out d l.", "intros Ht Hg Hinv Hreachable Hst' Hps'.", "qsimpl time: 1 use: requestVoteReply_moreUpToDate_invariant.", "-", "shelve.", "-"], "tactic": "intros t p Hp Hbody.", "exn": "No product even after head-reduction.", "type": "no_product", "handled": true}]}, "chat": [], "original": "intros net h st' ps' gd out d l. intros Ht Hg Hinv Hreachable Hst' Hps'. apply (requestVoteReply_moreUpToDate_invariant net) in Hreachable as HmoreUpToDate. - auto. - apply (requestVoteReply_term_sanity net) in Hst'. + apply (votedFor_moreUpToDate net). * intros t h' Hterm Htype Hvoted Hcurrent. apply (requestVote_maxIndex_maxTerm_invariant net) in Hreachable as HmaxIndexTerm. unfold requestVote_maxIndex_maxTerm in HmaxIndexTerm. destruct (HmaxIndexTerm t h' Hvoted Hterm eq_refl eq_refl) as [HmaxI HmaxT]. eapply votedFor_moreUpToDate; eauto. + intros t p Hp Hbody. unfold handleTimeout in Ht. break_match_hyp; try discriminate. invc Ht. destruct (send_packets h l) eqn:Hsend; try discriminate. simpl in Hp. destruct Hp; try discriminate.", "back_times": 0, "succ": false, "time": 198.9019410610199}]