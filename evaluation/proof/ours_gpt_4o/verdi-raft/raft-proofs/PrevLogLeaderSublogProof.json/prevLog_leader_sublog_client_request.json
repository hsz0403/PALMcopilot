[{"history": {"proof": "", "repairs": [], "exceptions": [{"ctx": ["intros net st' ps' d h os d' ms HdoLeader HP Hreachable HnwState Hst' HPackets."], "tactic": "eapply prevLog_leader_sublog_invariant.", "exn": "In environment orig_base_params : BaseParams one_node_params : OneNodeParams orig_base_params raft_params : RaftParams orig_base_params rri : raft_refinement_interface vci : votes_correct_interface cci : cronies_correct_interface lsi : leader_sublog_interface plceti : prevLog_candidateEntriesTerm_interface net : name st' : network ps' : name -> data d : list packet h : list raft_output os : raft_data d' : list (name * msg) ms : clientId HdoLeader : nat HP : input Hreachable : handleClientRequest net (nwState st' net) ms HdoLeader HP = (h, os, d') HnwState : prevLog_leader_sublog st' Hst' : raft_intermediate_reachable st' HPackets : forall h' : name, ps' h' = update name_eq_dec (nwState st') net os h' Unable to unify \"raft_intermediate_reachable ?M1635\" with \"forall p' : packet, In p' d -> In p' (nwPackets st') \\\\/ In p' (send_packets net d')\".", "type": "cannot_unify", "handled": true}, {"ctx": ["intros net st' ps' d h os d' ms HdoLeader HP Hreachable HnwState Hst' HPackets.", "qsimpl time: 1 use: prevLog_leader_sublog_invariant.", "-"], "tactic": "eapply plceti.", "exn": "In environment orig_base_params : BaseParams one_node_params : OneNodeParams orig_base_params raft_params : RaftParams orig_base_params rri : raft_refinement_interface vci : votes_correct_interface cci : cronies_correct_interface lsi : leader_sublog_interface plceti : prevLog_candidateEntriesTerm_interface net : name st' : network ps' : name -> raft_data d : list packet h : list raft_output os : raft_data d' : list (name * msg) ms : clientId HdoLeader : nat HP : input Hreachable : handleClientRequest net (nwState st' net) ms HdoLeader HP = (h, os, d') HnwState : prevLog_leader_sublog st' Hst' : raft_intermediate_reachable st' HPackets : forall h' : name, ps' h' = (if name_eq_dec h' net then os else nwState st' h') H : forall net : network, raft_intermediate_reachable net -> prevLog_leader_sublog net H0 : forall p' : packet, In p' d -> In p' (nwPackets st') \\\\/ In p' (map (fun m : name * msg => {| pSrc := net; pDst := fst m; pBody := snd m |}) d') Unable to unify \"prevLog_candidateEntriesTerm_interface\" with \"prevLog_leader_sublog {| nwPackets := d; nwState := ps' |}\".", "type": "cannot_unify", "handled": true}, {"ctx": ["intros net st' ps' d h os d' ms HdoLeader HP Hreachable HnwState Hst' HPackets.", "qsimpl time: 1 use: prevLog_leader_sublog_invariant.", "-", "qsimpl time: 1 use: prevLog_leader_sublog_invariant."], "tactic": "-", "exn": "Wrong bullet -: Current bullet - is not finished.", "type": "unfinished_bullet", "handled": true}, {"ctx": ["intros net st' ps' d h os d' ms HdoLeader HP Hreachable HnwState Hst' HPackets.", "qsimpl time: 1 use: prevLog_leader_sublog_invariant.", "-", "qsimpl time: 1 use: prevLog_leader_sublog_invariant.", "shelve.", "-"], "tactic": "-", "exn": "Wrong bullet -: Current bullet - is not finished.", "type": "unfinished_bullet", "handled": true}, {"ctx": ["intros net st' ps' d h os d' ms HdoLeader HP Hreachable HnwState Hst' HPackets.", "qsimpl time: 1 use: prevLog_leader_sublog_invariant.", "-", "qsimpl time: 1 use: prevLog_leader_sublog_invariant.", "shelve.", "-", "shelve."], "tactic": "-", "exn": "Wrong bullet -: No more subgoals.", "type": "no_more_subgoals", "handled": true}]}, "chat": [], "original": "unfold raft_net_invariant_do_leader. intros net st' ps' d h os d' ms HdoLeader HP Hreachable HnwState Hst' HPackets. eapply prevLog_leader_sublog_invariant. - eapply plceti. - eauto. - intros. unfold update. destruct (name_eq_dec h h') as [Heq | Hneq]. * subst. rewrite HnwState in Hst'. rewrite <- Hst'. auto. * rewrite <- Hst'. auto.", "back_times": 0, "succ": false, "time": 142.9805977344513}]