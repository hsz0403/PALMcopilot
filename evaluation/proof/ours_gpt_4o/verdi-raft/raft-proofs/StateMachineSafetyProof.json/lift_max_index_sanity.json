[{"history": {"proof": "", "repairs": [], "exceptions": [{"ctx": [], "tactic": "intros net st' ps' gd d h os d' ms HdoLeader HP Hreachable Hreachable' Hstate.", "exn": "No product even after head-reduction.", "type": "no_product", "handled": true}, {"ctx": ["intros."], "tactic": "apply msg_refined_raft_net_invariant_do_leader'_weak.", "exn": "In environment orig_base_params : BaseParams one_node_params : OneNodeParams orig_base_params raft_params : RaftParams orig_base_params rri : raft_refinement_interface si : sorted_interface lmi : log_matching_interface smspi : state_machine_safety'interface rlmli : refined_log_matching_lemmas_interface pllsi : prevLog_leader_sublog_interface ctgt0 : current_term_gt_zero_interface lalcii : lastApplied_le_commitIndex_interface miaei : match_index_all_entries_interface lhlli : leaders_have_leaderLogs_interface lci : leader_completeness_interface lsi : leader_sublog_interface taifoli : terms_and_indices_from_one_log_interface glci : ghost_log_correct_interface lphogli : log_properties_hold_on_ghost_logs_interface glemi : ghost_log_entries_match_interface tci : transitive_commit_interface tsi : term_sanity_interface lhllsi : leaders_have_leaderLogs_strong_interface ollpti : one_leaderLog_per_term_interface rmri : raft_msg_refinement_interface net : ghost_log_network h : Net.name H : msg_refined_raft_intermediate_reachable net H0 : maxIndex_sanity (deghost (mgv_deghost net)) Unable to unify \"forall (net0 : network) (st' : Net.name -> data) (ps' : list packet) (gd : ghost_data) (d : raft_data) (h0 : name) (os : list raft_output) (d' : raft_data) (ms : list (name * msg)), doLeader d h0 = (os, d', ms) -> ?M3355 net0 -> msg_refined_raft_intermediate_reachable net0 -> msg_refined_raft_intermediate_reachable {| nwPackets := ps'; nwState := st' |} -> nwState net0 h0 = (gd, d) -> (forall h' : Net.name, st' h' = update name_eq_dec (nwState net0) h0 (gd, d') h') -> (forall p : packet, In p ps' -> In p (nwPackets net0) \\\\/ In p (send_packets h0 (add_ghost_msg h0 (gd, d') ms))) -> ?M3355 {| nwPackets := ps'; nwState := st' |}\" with \"lastApplied (snd (nwState net h)) <= maxIndex (log (snd (nwState net h))) /\\\\ commitIndex (snd (nwState net h)) <= maxIndex (log (snd (nwState net h)))\".", "type": "cannot_unify", "handled": true}]}, "chat": [], "original": "intros net st' ps' gd d h os d' ms HdoLeader HP Hreachable Hreachable' Hstate. apply msg_refined_raft_net_invariant_do_leader'_weak. intros P net' Psi Pclient_request Ptimeout Pappend_entries Pappend_entries_reply Prequest_vote Prequest_vote_reply Pdo_leader Pdo_generic_server Pstate_same_packet_subset Preboot Hintermediate_reachable. apply msg_refined_raft_net_invariant'. - apply HP. - apply Hreachable'. - apply refined_raft_net_invariant_init. + apply msg_refined_raft_net_invariant_client_request. + apply msg_refined_raft_net_invariant_timeout. + apply msg_refined_raft_net_invariant_append_entries. + apply msg_refined_raft_net_invariant_append_entries_reply. + apply msg_refined_raft_net_invariant_request_vote. + apply msg_refined_raft_net_invariant_request_vote_reply. + intros. apply Pdo_leader. * eapply HdoLeader; eauto. * eapply HP. * eapply Hreachable. * eapply Hreachable'. + apply msg_refined_raft_net_invariant_do_generic_server. + apply msg_refined_raft_net_invariant_state_same_packet_subset. + apply msg_refined_raft_net_invariant_reboot.", "back_times": 0, "succ": false, "time": 86.44990158081055}]