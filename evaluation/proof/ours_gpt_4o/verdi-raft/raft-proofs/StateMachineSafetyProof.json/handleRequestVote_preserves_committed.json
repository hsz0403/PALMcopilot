[{"history": {"proof": "", "repairs": [], "exceptions": [{"ctx": ["intros.", "eapply msg_refined_raft_net_invariant.", "-"], "tactic": "-", "exn": "Wrong bullet -: Current bullet - is not finished.", "type": "unfinished_bullet", "handled": true}, {"ctx": ["intros.", "eapply msg_refined_raft_net_invariant.", "-", "shelve.", "-"], "tactic": "apply commit_invariant_client_request.", "exn": "In environment orig_base_params : BaseParams one_node_params : OneNodeParams orig_base_params raft_params : RaftParams orig_base_params rri : raft_refinement_interface si : sorted_interface lmi : log_matching_interface smspi : state_machine_safety'interface rlmli : refined_log_matching_lemmas_interface pllsi : prevLog_leader_sublog_interface ctgt0 : current_term_gt_zero_interface lalcii : lastApplied_le_commitIndex_interface miaei : match_index_all_entries_interface lhlli : leaders_have_leaderLogs_interface lci : leader_completeness_interface lsi : leader_sublog_interface taifoli : terms_and_indices_from_one_log_interface glci : ghost_log_correct_interface lphogli : log_properties_hold_on_ghost_logs_interface glemi : ghost_log_entries_match_interface tci : transitive_commit_interface tsi : term_sanity_interface lhllsi : leaders_have_leaderLogs_strong_interface ollpti : one_leaderLog_per_term_interface rmri : raft_msg_refinement_interface net, net' : ghost_log_network h : name t : nat c : fin N li, lt : nat st' : raft_data ms : msg e : entry t' : term H : handleRequestVote h (snd (nwState net h)) t c li lt = (st', ms) H0 : forall h' : Net.name, nwState net' h' = update name_eq_dec (nwState net) h (update_elections_data_requestVote h c t c li lt (nwState net h), st') h' H1 : lifted_committed net e t' Unable to unify \"commit_invariant_host {| nwPackets := ?M11972; nwState := ?M11971 |} /\\\\ commit_invariant_nw {| nwPackets := ?M11972; nwState := ?M11971 |}\" with \"forall (h : name) (net : network) (st' : name -> data) (ps' : list packet) (gd : electionsData) (out : list raft_output) (d : raft_data) (l : list (name * msg)) (client : clientId) (id : nat) (c : input), handleClientRequest h (snd (nwState net h)) client id c = (out, d, l) -> gd = update_elections_data_client_request h (nwState net h) client id c -> (fun _ : network => lifted_committed net' e t') net -> msg_refined_raft_intermediate_reachable net -> (forall h' : name, st' h' = update name_eq_dec (nwState net) h (gd, d) h') -> (forall p' : packet, In p' ps' -> In p' (nwPackets net) \\\\/ In p' (send_packets h (add_ghost_msg h (gd, d) l))) -> (fun _ : network => lifted_committed net' e t') {| nwPackets := ps'; nwState := st' |}\".", "type": "cannot_unify", "handled": true}, {"ctx": ["intros.", "eapply msg_refined_raft_net_invariant.", "-", "shelve.", "-", "qsimpl time: 1 use: commit_invariant_client_request.", "-"], "tactic": "-", "exn": "Wrong bullet -: Current bullet - is not finished.", "type": "unfinished_bullet", "handled": true}, {"ctx": ["intros.", "eapply msg_refined_raft_net_invariant.", "-", "shelve.", "-", "qsimpl time: 1 use: commit_invariant_client_request.", "-", "shelve.", "-"], "tactic": "-", "exn": "Wrong bullet -: Current bullet - is not finished.", "type": "unfinished_bullet", "handled": true}, {"ctx": ["intros.", "eapply msg_refined_raft_net_invariant.", "-", "shelve.", "-", "qsimpl time: 1 use: commit_invariant_client_request.", "-", "shelve.", "-", "shelve.", "-"], "tactic": "-", "exn": "Wrong bullet -: Current bullet - is not finished.", "type": "unfinished_bullet", "handled": true}, {"ctx": ["intros.", "eapply msg_refined_raft_net_invariant.", "-", "shelve.", "-", "qsimpl time: 1 use: commit_invariant_client_request.", "-", "shelve.", "-", "shelve.", "-", "shelve.", "-"], "tactic": "-", "exn": "Wrong bullet -: Current bullet - is not finished.", "type": "unfinished_bullet", "handled": true}, {"ctx": ["intros.", "eapply msg_refined_raft_net_invariant.", "-", "shelve.", "-", "qsimpl time: 1 use: commit_invariant_client_request.", "-", "shelve.", "-", "shelve.", "-", "shelve.", "-", "shelve.", "-"], "tactic": "eapply hypothesis in H3.", "exn": "No such hypothesis: H3", "type": "no_hypos", "handled": true}, {"ctx": ["intros.", "eapply msg_refined_raft_net_invariant.", "-", "shelve.", "-", "qsimpl time: 1 use: commit_invariant_client_request.", "-", "shelve.", "-", "shelve.", "-", "shelve.", "-", "shelve.", "-", "qsimpl time: 1 use: commit_invariant_client_request."], "tactic": "+", "exn": "Wrong bullet +: Expecting -.", "type": "wrong_bullet", "handled": true}, {"ctx": ["intros.", "eapply msg_refined_raft_net_invariant.", "-", "shelve.", "-", "qsimpl time: 1 use: commit_invariant_client_request.", "-", "shelve.", "-", "shelve.", "-", "shelve.", "-", "shelve.", "-", "qsimpl time: 1 use: commit_invariant_client_request.", "-"], "tactic": "apply H3.", "exn": "The reference H3 was not found in the current environment.", "type": "ref_not_found", "handled": true}, {"ctx": ["intros.", "eapply msg_refined_raft_net_invariant.", "-", "shelve.", "-", "qsimpl time: 1 use: commit_invariant_client_request.", "-", "shelve.", "-", "shelve.", "-", "shelve.", "-", "shelve.", "-", "qsimpl time: 1 use: commit_invariant_client_request.", "-", "apply Decidable.dec_not_not.", "+", "eapply Build_raft_msg_refinement_interface.", "*"], "tactic": "unfold raft_msg_refinement_interface.", "exn": "Cannot coerce raft_msg_refinement_interface to an evaluable reference.", "type": "not_evaluable", "handled": true}, {"ctx": ["intros.", "eapply msg_refined_raft_net_invariant.", "-", "shelve.", "-", "qsimpl time: 1 use: commit_invariant_client_request.", "-", "shelve.", "-", "shelve.", "-", "shelve.", "-", "shelve.", "-", "qsimpl time: 1 use: commit_invariant_client_request.", "-", "apply Decidable.dec_not_not.", "+", "eapply Build_raft_msg_refinement_interface.", "*"], "tactic": "*", "exn": "Wrong bullet *: Current bullet * is not finished.", "type": "unfinished_bullet", "handled": true}, {"ctx": ["intros.", "eapply msg_refined_raft_net_invariant.", "-", "shelve.", "-", "qsimpl time: 1 use: commit_invariant_client_request.", "-", "shelve.", "-", "shelve.", "-", "shelve.", "-", "shelve.", "-", "qsimpl time: 1 use: commit_invariant_client_request.", "-", "apply Decidable.dec_not_not.", "+", "eapply Build_raft_msg_refinement_interface.", "*", "shelve.", "*"], "tactic": ["apply H.", ""], "exn": "Applied theorem does not have enough premises.", "type": "no_enough_premises", "handled": false}, {"ctx": ["intros.", "eapply msg_refined_raft_net_invariant.", "-", "shelve.", "-", "qsimpl time: 1 use: commit_invariant_client_request.", "-", "shelve.", "-", "shelve.", "-", "shelve.", "-", "shelve.", "-", "qsimpl time: 1 use: commit_invariant_client_request.", "-", "apply Decidable.dec_not_not.", "+", "eapply Build_raft_msg_refinement_interface.", "*", "shelve.", "*"], "tactic": "-", "exn": "Wrong bullet -: Current bullet * is not finished.", "type": "unfinished_bullet", "handled": true}, {"ctx": ["intros.", "eapply msg_refined_raft_net_invariant.", "-", "shelve.", "-", "qsimpl time: 1 use: commit_invariant_client_request.", "-", "shelve.", "-", "shelve.", "-", "shelve.", "-", "shelve.", "-", "qsimpl time: 1 use: commit_invariant_client_request.", "-", "apply Decidable.dec_not_not.", "+", "eapply Build_raft_msg_refinement_interface.", "*", "shelve.", "*", "shelve."], "tactic": "-", "exn": "Wrong bullet -: Expecting *.", "type": "wrong_bullet", "handled": true}, {"ctx": ["intros.", "eapply msg_refined_raft_net_invariant.", "-", "shelve.", "-", "qsimpl time: 1 use: commit_invariant_client_request.", "-", "shelve.", "-", "shelve.", "-", "shelve.", "-", "shelve.", "-", "qsimpl time: 1 use: commit_invariant_client_request.", "-", "apply Decidable.dec_not_not.", "+", "eapply Build_raft_msg_refinement_interface.", "*", "shelve.", "*", "shelve.", "*"], "tactic": "-", "exn": "Wrong bullet -: Current bullet * is not finished.", "type": "unfinished_bullet", "handled": true}, {"ctx": ["intros.", "eapply msg_refined_raft_net_invariant.", "-", "shelve.", "-", "qsimpl time: 1 use: commit_invariant_client_request.", "-", "shelve.", "-", "shelve.", "-", "shelve.", "-", "shelve.", "-", "qsimpl time: 1 use: commit_invariant_client_request.", "-", "apply Decidable.dec_not_not.", "+", "eapply Build_raft_msg_refinement_interface.", "*", "shelve.", "*", "shelve.", "*", "shelve."], "tactic": "-", "exn": "Wrong bullet -: Expecting *.", "type": "wrong_bullet", "handled": true}]}, "chat": [], "original": "intros. eapply msg_refined_raft_net_invariant. - auto. - apply commit_invariant_client_request. - auto. - auto. - auto. - auto. - intros. eapply hypothesis in H3. + apply H3. + eapply Build_raft_msg_refinement_interface. * unfold raft_msg_refinement_interface. apply rmri. * apply H. - auto. - auto.", "back_times": 21, "succ": false, "time": 287.82524943351746}]