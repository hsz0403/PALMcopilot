[{"history": {"proof": "", "repairs": [], "exceptions": [{"ctx": [], "tactic": "apply raft_net_invariant.", "exn": "In environment orig_base_params : BaseParams one_node_params : OneNodeParams orig_base_params raft_params : RaftParams orig_base_params Unable to unify \"forall (xs : list packet) (p : packet) (ys : list packet) (net : network) (st' : name -> data) (ps' : list packet) (d : raft_data) (m : msg) (t : term) (n : name) (pli : logIndex) (plt : term) (es : list entry) (ci : logIndex), handleAppendEntries (pDst p) (nwState net (pDst p)) t n pli plt es ci = (d, m) -> pBody p = AppendEntries t n pli plt es ci -> ?M2280 net -> raft_intermediate_reachable net -> nwPackets net = xs ++ p :: ys -> (forall h : name, st' h = update name_eq_dec (nwState net) (pDst p) d h) -> (forall p' : packet, In p' ps' -> In p' (xs ++ ys) \\\\/ p' = {| pSrc := pDst p; pDst := pSrc p; pBody := m |}) -> ?M2280 {| nwPackets := ps'; nwState := st' |}\" with \"(fix fin (n : nat) : Type := match n with | 0 => False | S n' => option (fin n') end) N\".", "type": "cannot_unify", "handled": true}, {"ctx": ["qsimpl time: 1 use: raft_net_invariant.", "-"], "tactic": "split.", "exn": "Not an inductive goal with 1 constructor.", "type": "not_inductive_goal", "handled": true}, {"ctx": ["qsimpl time: 1 use: raft_net_invariant.", "-", "qsimpl time: 1 use: raft_net_invariant."], "tactic": "apply no_entries_past_current_term_invariant.", "exn": "In environment orig_base_params : BaseParams one_node_params : OneNodeParams orig_base_params raft_params : RaftParams orig_base_params H1 : forall (P : network -> Prop) (net : network), raft_net_invariant_init P -> raft_net_invariant_client_request P -> raft_net_invariant_timeout P -> raft_net_invariant_append_entries P -> raft_net_invariant_append_entries_reply P -> raft_net_invariant_request_vote P -> raft_net_invariant_request_vote_reply P -> raft_net_invariant_do_leader P -> raft_net_invariant_do_generic_server P -> raft_net_invariant_state_same_packet_subset P -> raft_net_invariant_reboot P -> raft_intermediate_reachable net -> P net h : name st : RaftState.raft_data term name entry logIndex serverType data clientId output t : nat h' : fin N pli, plt : nat st' : raft_data m : msg H0 : handleRequestVote h st t h' pli plt = (st', m) Unable to unify \"no_entries_past_current_term_host ?M4203 /\\\\ no_entries_past_current_term_nw ?M4203\" with \"currentTerm st <= currentTerm st'\".", "type": "cannot_unify", "handled": true}, {"ctx": ["qsimpl time: 1 use: raft_net_invariant.", "-", "qsimpl time: 1 use: raft_net_invariant.", "qsimpl time: 1 use: raft_net_invariant,no_entries_past_current_term_invariant.", "--"], "tactic": "apply no_entries_past_current_term_invariant.", "exn": "In environment orig_base_params : BaseParams one_node_params : OneNodeParams orig_base_params raft_params : RaftParams orig_base_params H1 : forall (P : network -> Prop) (net : network), raft_net_invariant_init P -> raft_net_invariant_client_request P -> raft_net_invariant_timeout P -> raft_net_invariant_append_entries P -> raft_net_invariant_append_entries_reply P -> raft_net_invariant_request_vote P -> raft_net_invariant_request_vote_reply P -> raft_net_invariant_do_leader P -> raft_net_invariant_do_generic_server P -> raft_net_invariant_state_same_packet_subset P -> raft_net_invariant_reboot P -> raft_intermediate_reachable net -> P net h : name st : RaftState.raft_data term name entry logIndex serverType data clientId output t : nat h' : fin N pli, plt : nat st' : raft_data m : msg H0 : handleRequestVote h st t h' pli plt = (st', m) H2 : forall net : network, raft_intermediate_reachable net -> no_entries_past_current_term net Unable to unify \"no_entries_past_current_term_host ?M5162 /\\\\ no_entries_past_current_term_nw ?M5162\" with \"currentTerm st <= currentTerm st'\".", "type": "cannot_unify", "handled": true}, {"ctx": ["qsimpl time: 1 use: raft_net_invariant.", "-", "qsimpl time: 1 use: raft_net_invariant.", "qsimpl time: 1 use: raft_net_invariant,no_entries_past_current_term_invariant.", "--", "qsimpl time: 1 use: raft_net_invariant,no_entries_past_current_term_invariant."], "tactic": "-", "exn": "Wrong bullet -: Current bullet -- is not finished.", "type": "unfinished_bullet", "handled": true}, {"ctx": ["qsimpl time: 1 use: raft_net_invariant.", "-", "qsimpl time: 1 use: raft_net_invariant.", "qsimpl time: 1 use: raft_net_invariant,no_entries_past_current_term_invariant.", "--", "qsimpl time: 1 use: raft_net_invariant,no_entries_past_current_term_invariant.", "shelve."], "tactic": "-", "exn": "Wrong bullet -: Expecting --.", "type": "wrong_bullet", "handled": true}, {"ctx": ["qsimpl time: 1 use: raft_net_invariant.", "-", "qsimpl time: 1 use: raft_net_invariant.", "qsimpl time: 1 use: raft_net_invariant,no_entries_past_current_term_invariant.", "--", "qsimpl time: 1 use: raft_net_invariant,no_entries_past_current_term_invariant.", "shelve.", "--"], "tactic": "rewrite H5 in H6.", "exn": "No such hypothesis: H6", "type": "no_hypos", "handled": true}, {"ctx": ["qsimpl time: 1 use: raft_net_invariant.", "-", "qsimpl time: 1 use: raft_net_invariant.", "qsimpl time: 1 use: raft_net_invariant,no_entries_past_current_term_invariant.", "--", "qsimpl time: 1 use: raft_net_invariant,no_entries_past_current_term_invariant.", "shelve.", "--"], "tactic": "inversion H6.", "exn": "No such hypothesis: H6", "type": "no_hypos", "handled": true}, {"ctx": ["qsimpl time: 1 use: raft_net_invariant.", "-", "qsimpl time: 1 use: raft_net_invariant.", "qsimpl time: 1 use: raft_net_invariant,no_entries_past_current_term_invariant.", "--", "qsimpl time: 1 use: raft_net_invariant,no_entries_past_current_term_invariant.", "shelve.", "--"], "tactic": "-", "exn": "Wrong bullet -: Current bullet -- is not finished.", "type": "unfinished_bullet", "handled": true}, {"ctx": ["qsimpl time: 1 use: raft_net_invariant.", "-", "qsimpl time: 1 use: raft_net_invariant.", "qsimpl time: 1 use: raft_net_invariant,no_entries_past_current_term_invariant.", "--", "qsimpl time: 1 use: raft_net_invariant,no_entries_past_current_term_invariant.", "shelve.", "--", "shelve.", "-"], "tactic": "rewrite H4 in H5.", "exn": "No such hypothesis: H5", "type": "no_hypos", "handled": true}, {"ctx": ["qsimpl time: 1 use: raft_net_invariant.", "-", "qsimpl time: 1 use: raft_net_invariant.", "qsimpl time: 1 use: raft_net_invariant,no_entries_past_current_term_invariant.", "--", "qsimpl time: 1 use: raft_net_invariant,no_entries_past_current_term_invariant.", "shelve.", "--", "shelve.", "-", "qsimpl time: 1 use: raft_net_invariant,no_entries_past_current_term_invariant."], "tactic": "inversion H5.", "exn": "No such hypothesis: H5", "type": "no_hypos", "handled": true}, {"ctx": ["qsimpl time: 1 use: raft_net_invariant.", "-", "qsimpl time: 1 use: raft_net_invariant.", "qsimpl time: 1 use: raft_net_invariant,no_entries_past_current_term_invariant.", "--", "qsimpl time: 1 use: raft_net_invariant,no_entries_past_current_term_invariant.", "shelve.", "--", "shelve.", "-", "qsimpl time: 1 use: raft_net_invariant,no_entries_past_current_term_invariant.", "qsimpl time: 1 use: raft_net_invariant,no_entries_past_current_term_invariant."], "tactic": "-", "exn": "Wrong bullet -: Current bullet - is not finished.", "type": "unfinished_bullet", "handled": true}, {"ctx": ["qsimpl time: 1 use: raft_net_invariant.", "-", "qsimpl time: 1 use: raft_net_invariant.", "qsimpl time: 1 use: raft_net_invariant,no_entries_past_current_term_invariant.", "--", "qsimpl time: 1 use: raft_net_invariant,no_entries_past_current_term_invariant.", "shelve.", "--", "shelve.", "-", "qsimpl time: 1 use: raft_net_invariant,no_entries_past_current_term_invariant.", "qsimpl time: 1 use: raft_net_invariant,no_entries_past_current_term_invariant.", "+", "shelve.", "+", "shelve.", "-"], "tactic": "rewrite H8 in H9.", "exn": "No such hypothesis: H9", "type": "no_hypos", "handled": true}, {"ctx": ["qsimpl time: 1 use: raft_net_invariant.", "-", "qsimpl time: 1 use: raft_net_invariant.", "qsimpl time: 1 use: raft_net_invariant,no_entries_past_current_term_invariant.", "--", "qsimpl time: 1 use: raft_net_invariant,no_entries_past_current_term_invariant.", "shelve.", "--", "shelve.", "-", "qsimpl time: 1 use: raft_net_invariant,no_entries_past_current_term_invariant.", "qsimpl time: 1 use: raft_net_invariant,no_entries_past_current_term_invariant.", "+", "shelve.", "+", "shelve.", "-", "qsimpl time: 1 use: raft_net_invariant,no_entries_past_current_term_invariant."], "tactic": "inversion H9.", "exn": "No such hypothesis: H9", "type": "no_hypos", "handled": true}, {"ctx": ["qsimpl time: 1 use: raft_net_invariant.", "-", "qsimpl time: 1 use: raft_net_invariant.", "qsimpl time: 1 use: raft_net_invariant,no_entries_past_current_term_invariant.", "--", "qsimpl time: 1 use: raft_net_invariant,no_entries_past_current_term_invariant.", "shelve.", "--", "shelve.", "-", "qsimpl time: 1 use: raft_net_invariant,no_entries_past_current_term_invariant.", "qsimpl time: 1 use: raft_net_invariant,no_entries_past_current_term_invariant.", "+", "shelve.", "+", "shelve.", "-", "qsimpl time: 1 use: raft_net_invariant,no_entries_past_current_term_invariant.", "qsimpl time: 1 use: raft_net_invariant,no_entries_past_current_term_invariant."], "tactic": "-", "exn": "Wrong bullet -: Current bullet - is not finished.", "type": "unfinished_bullet", "handled": true}, {"ctx": ["qsimpl time: 1 use: raft_net_invariant.", "-", "qsimpl time: 1 use: raft_net_invariant.", "qsimpl time: 1 use: raft_net_invariant,no_entries_past_current_term_invariant.", "--", "qsimpl time: 1 use: raft_net_invariant,no_entries_past_current_term_invariant.", "shelve.", "--", "shelve.", "-", "qsimpl time: 1 use: raft_net_invariant,no_entries_past_current_term_invariant.", "qsimpl time: 1 use: raft_net_invariant,no_entries_past_current_term_invariant.", "+", "shelve.", "+", "shelve.", "-", "qsimpl time: 1 use: raft_net_invariant,no_entries_past_current_term_invariant.", "qsimpl time: 1 use: raft_net_invariant,no_entries_past_current_term_invariant.", "+", "shelve.", "+", "shelve."], "tactic": "-", "exn": "Wrong bullet -: No more subgoals.", "type": "no_more_subgoals", "handled": true}]}, "chat": [], "original": "apply raft_net_invariant. - intros. unfold no_entries_past_current_term. split. -- intros. apply no_entries_past_current_term_invariant. auto. -- intros. apply no_entries_past_current_term_invariant. auto. - intros. rewrite H5 in H6. inversion H6. - intros. rewrite H4 in H5. inversion H5. - intros. rewrite H8 in H9. inversion H9. - intros. rewrite H6 in H7. inversion H7. - intros. rewrite H8 in H9. inversion H9. - intros. rewrite H6 in H7. inversion H7. - intros. rewrite H5 in H6. inversion H6.", "back_times": 0, "succ": false, "time": 107.10282588005066}]