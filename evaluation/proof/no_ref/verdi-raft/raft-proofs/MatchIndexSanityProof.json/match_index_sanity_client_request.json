[{"history": {"proof": "", "repairs": [], "exceptions": [{"ctx": ["unfold raft_net_invariant_client_request, match_index_sanity.", "intros.", "assert (type (nwState net leader) = Leader) as H_leader_type.", "-"], "tactic": "apply handleClientRequest_logs_sorted in H0; auto.", "exn": "Unable to apply lemma of type \"forall (h1 : name) (client0 : clientId) (id0 : nat) (c0 : input) (out0 : list raft_output) (st : raft_data) (l0 : list (name * msg)) (net0 : network), handleClientRequest h1 (nwState net0 h1) client0 id0 c0 = (out0, st, l0) -> raft_intermediate_reachable net0 -> logs_sorted_host net0 -> sorted (log st)\" on hypothesis of type \"forall (leader : Net.name) (h : name), type (nwState net leader) = Leader -> assoc_default name_eq_dec (matchIndex (nwState net leader)) h 0 <= maxIndex (log (nwState net leader))\".", "type": "cannot_apply_in", "handled": true}, {"ctx": ["unfold raft_net_invariant_client_request, match_index_sanity.", "intros.", "assert (type (nwState net leader) = Leader) as H_leader_type.", "-"], "tactic": "-", "exn": "Wrong bullet -: Current bullet - is not finished.", "type": "unfinished_bullet", "handled": true}, {"ctx": ["unfold raft_net_invariant_client_request, match_index_sanity.", "intros.", "assert (type (nwState net leader) = Leader) as H_leader_type.", "-", "shelve.", "-"], "tactic": "apply handleClientRequest_logs_sorted in H0; auto.", "exn": "Unable to apply lemma of type \"forall (h1 : name) (client0 : clientId) (id0 : nat) (c0 : input) (out0 : list raft_output) (st : raft_data) (l0 : list (name * msg)) (net0 : network), handleClientRequest h1 (nwState net0 h1) client0 id0 c0 = (out0, st, l0) -> raft_intermediate_reachable net0 -> logs_sorted_host net0 -> sorted (log st)\" on hypothesis of type \"forall (leader : Net.name) (h : name), type (nwState net leader) = Leader -> assoc_default name_eq_dec (matchIndex (nwState net leader)) h 0 <= maxIndex (log (nwState net leader))\".", "type": "cannot_apply_in", "handled": true}, {"ctx": ["unfold raft_net_invariant_client_request, match_index_sanity.", "intros.", "assert (type (nwState net leader) = Leader) as H_leader_type.", "-", "shelve.", "-"], "tactic": "-", "exn": "Wrong bullet -: Current bullet - is not finished.", "type": "unfinished_bullet", "handled": true}, {"ctx": ["unfold raft_net_invariant_client_request, match_index_sanity.", "intros.", "assert (type (nwState net leader) = Leader) as H_leader_type.", "-", "shelve.", "-", "shelve."], "tactic": "-", "exn": "Wrong bullet -: No more subgoals.", "type": "no_more_subgoals", "handled": true}]}, "chat": [], "original": "unfold raft_net_invariant_client_request, match_index_sanity. intros. assert (type (nwState net leader) = Leader) as H_leader_type. - apply handleClientRequest_logs_sorted in H0; auto. - apply handleClientRequest_logs_sorted in H0; auto. - apply match_index_sanity_invariant in H2; auto. - apply H2 in H_leader_type. destruct H_leader_type as [H_assoc_default H_maxIndex]. - unfold assoc_default, maxIndex in *. apply leb_complete_conv in H_assoc_default. rewrite H_assoc_default. - auto.", "succ": false}]