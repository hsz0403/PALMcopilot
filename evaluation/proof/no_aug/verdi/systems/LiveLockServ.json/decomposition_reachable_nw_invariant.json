[{"history": {"proof": "", "repairs": [], "exceptions": [{"ctx": ["intros st tr p Hstar Hin.", "unfold network_invariant."], "tactic": "intros B M d sigma p' Hin_p.", "exn": "No product even after head-reduction.", "type": "no_product", "handled": true}]}, "chat": [], "original": "intros st tr p Hstar Hin. unfold network_invariant. intros B M d sigma p' Hin_p. destruct p as [src dst body]. apply composed_invariant in d as [Hstate [Hnet_inv Hd_pairs]]. assert (Hin_p_list: In p' (nwPackets (mkNetwork (nwPackets st) (nwState st)))). { apply Hin_p. } apply Hd_pairs in Hin_p_list as Hnet_net_inv. destruct st as [packets state]. unfold nwPackets in *. rewrite nwPackets in Hin_p_list. apply Hin in Hin_p_list. apply Hnet_net_inv in Hin_p_list. apply Hin_p.", "succ": false, "time": 12.434467838999808}]