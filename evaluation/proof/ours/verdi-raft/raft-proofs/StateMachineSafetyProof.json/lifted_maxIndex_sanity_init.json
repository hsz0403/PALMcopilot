[{"history": {"proof": "unfold msg_refined_raft_net_invariant_init, msg_refined_raft_net_invariant_client_request, msg_refined_raft_net_invariant_timeout, msg_refined_raft_net_invariant_append_entries, msg_refined_raft_net_invariant_append_entries_reply, msg_refined_raft_net_invariant_request_vote, msg_refined_raft_net_invariant_request_vote_reply, msg_refined_raft_net_invariant_do_leader, msg_refined_raft_net_invariant_do_generic_server, msg_refined_raft_net_invariant_state_same_packet_subset. unfold lifted_maxIndex_sanity in *. split. - intros h. qsimpl. - hauto l: on depth: 3.", "repairs": ["", "", "", "", "", "cannot_unify", "wrong_bullet", "hammer"], "exceptions": [{"ctx": ["unfold msg_refined_raft_net_invariant_init, msg_refined_raft_net_invariant_client_request, msg_refined_raft_net_invariant_timeout, msg_refined_raft_net_invariant_append_entries, msg_refined_raft_net_invariant_append_entries_reply, msg_refined_raft_net_invariant_request_vote, msg_refined_raft_net_invariant_request_vote_reply, msg_refined_raft_net_invariant_do_leader, msg_refined_raft_net_invariant_do_generic_server, msg_refined_raft_net_invariant_state_same_packet_subset.", "unfold lifted_maxIndex_sanity in *.", "split.", "-", "intros h."], "tactic": "apply le_trans with (m := lastApplied (snd (nwState net h))).", "exn": "The reference net was not found in the current environment.", "type": "ref_not_found", "handled": true}, {"ctx": ["unfold msg_refined_raft_net_invariant_init, msg_refined_raft_net_invariant_client_request, msg_refined_raft_net_invariant_timeout, msg_refined_raft_net_invariant_append_entries, msg_refined_raft_net_invariant_append_entries_reply, msg_refined_raft_net_invariant_request_vote, msg_refined_raft_net_invariant_request_vote_reply, msg_refined_raft_net_invariant_do_leader, msg_refined_raft_net_invariant_do_generic_server, msg_refined_raft_net_invariant_state_same_packet_subset.", "unfold lifted_maxIndex_sanity in *.", "split.", "-", "intros h."], "tactic": "apply lalcii.", "exn": "In environment orig_base_params : BaseParams one_node_params : OneNodeParams orig_base_params raft_params : RaftParams orig_base_params rri : raft_refinement_interface si : sorted_interface lmi : log_matching_interface smspi : state_machine_safety'interface rlmli : refined_log_matching_lemmas_interface pllsi : prevLog_leader_sublog_interface ctgt0 : current_term_gt_zero_interface lalcii : lastApplied_le_commitIndex_interface miaei : match_index_all_entries_interface lhlli : leaders_have_leaderLogs_interface lci : leader_completeness_interface lsi : leader_sublog_interface taifoli : terms_and_indices_from_one_log_interface glci : ghost_log_correct_interface lphogli : log_properties_hold_on_ghost_logs_interface glemi : ghost_log_entries_match_interface tci : transitive_commit_interface tsi : term_sanity_interface lhllsi : leaders_have_leaderLogs_strong_interface ollpti : one_leaderLog_per_term_interface rmri : raft_msg_refinement_interface h : Net.name Unable to unify \"lastApplied_le_commitIndex_interface\" with \"lastApplied (snd (nwState step_async_init h)) <= maxIndex (log (snd (nwState step_async_init h)))\".", "type": "cannot_unify", "handled": true}, {"ctx": ["unfold msg_refined_raft_net_invariant_init, msg_refined_raft_net_invariant_client_request, msg_refined_raft_net_invariant_timeout, msg_refined_raft_net_invariant_append_entries, msg_refined_raft_net_invariant_append_entries_reply, msg_refined_raft_net_invariant_request_vote, msg_refined_raft_net_invariant_request_vote_reply, msg_refined_raft_net_invariant_do_leader, msg_refined_raft_net_invariant_do_generic_server, msg_refined_raft_net_invariant_state_same_packet_subset.", "unfold lifted_maxIndex_sanity in *.", "split.", "-", "intros h.", "qsimpl."], "tactic": "+", "exn": "Wrong bullet +: Expecting -.", "type": "wrong_bullet", "handled": true}, {"ctx": ["unfold msg_refined_raft_net_invariant_init, msg_refined_raft_net_invariant_client_request, msg_refined_raft_net_invariant_timeout, msg_refined_raft_net_invariant_append_entries, msg_refined_raft_net_invariant_append_entries_reply, msg_refined_raft_net_invariant_request_vote, msg_refined_raft_net_invariant_request_vote_reply, msg_refined_raft_net_invariant_do_leader, msg_refined_raft_net_invariant_do_generic_server, msg_refined_raft_net_invariant_state_same_packet_subset.", "unfold lifted_maxIndex_sanity in *.", "split.", "-", "intros h.", "qsimpl.", "-"], "tactic": "apply MaxIndex_maxIndex_sanity; auto.", "exn": "The reference MaxIndex_maxIndex_sanity was not found in the current environment.", "type": "ref_not_found", "handled": true}, {"ctx": ["unfold msg_refined_raft_net_invariant_init, msg_refined_raft_net_invariant_client_request, msg_refined_raft_net_invariant_timeout, msg_refined_raft_net_invariant_append_entries, msg_refined_raft_net_invariant_append_entries_reply, msg_refined_raft_net_invariant_request_vote, msg_refined_raft_net_invariant_request_vote_reply, msg_refined_raft_net_invariant_do_leader, msg_refined_raft_net_invariant_do_generic_server, msg_refined_raft_net_invariant_state_same_packet_subset.", "unfold lifted_maxIndex_sanity in *.", "split.", "-", "intros h.", "qsimpl.", "-"], "tactic": "-", "exn": "Wrong bullet -: Current bullet - is not finished.", "type": "unfinished_bullet", "handled": true}, {"ctx": ["unfold msg_refined_raft_net_invariant_init, msg_refined_raft_net_invariant_client_request, msg_refined_raft_net_invariant_timeout, msg_refined_raft_net_invariant_append_entries, msg_refined_raft_net_invariant_append_entries_reply, msg_refined_raft_net_invariant_request_vote, msg_refined_raft_net_invariant_request_vote_reply, msg_refined_raft_net_invariant_do_leader, msg_refined_raft_net_invariant_do_generic_server, msg_refined_raft_net_invariant_state_same_packet_subset.", "unfold lifted_maxIndex_sanity in *.", "split.", "-", "intros h.", "qsimpl.", "-", "shelve."], "tactic": "-", "exn": "Wrong bullet -: No more subgoals.", "type": "no_more_subgoals", "handled": true}]}, "chat": [], "original": "intros. unfold msg_refined_raft_net_invariant_init, msg_refined_raft_net_invariant_client_request, msg_refined_raft_net_invariant_timeout, msg_refined_raft_net_invariant_append_entries, msg_refined_raft_net_invariant_append_entries_reply, msg_refined_raft_net_invariant_request_vote, msg_refined_raft_net_invariant_request_vote_reply, msg_refined_raft_net_invariant_do_leader, msg_refined_raft_net_invariant_do_generic_server, msg_refined_raft_net_invariant_state_same_packet_subset. unfold lifted_maxIndex_sanity in *. intros. split. - intros h. apply le_trans with (m := lastApplied (snd (nwState net h))). + apply lalcii. + apply MaxIndex_maxIndex_sanity; auto. - intros h. apply le_trans with (m := commitIndex (snd (nwState net h))). + apply lalcii. + apply MaxIndex_maxIndex_sanity; auto.", "succ": true}]