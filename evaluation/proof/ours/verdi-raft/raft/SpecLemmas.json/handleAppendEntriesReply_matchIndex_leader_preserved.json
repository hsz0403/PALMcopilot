[{"history": {"proof": "", "repairs": [], "exceptions": [{"ctx": ["intros h st d m t es res h' Hhandle.", "unfold handleAppendEntriesReply in Hhandle.", "remember (currentTerm st =? t) as term_eqn eqn:Heq_term.", "destruct term_eqn.", "-", "remember (res) as result eqn:Heq_result.", "destruct result.", "+", "remember (maxIndex es) as index eqn:Heq_index.", "inversion Hhandle.", "subst.", "clear Hhandle.", "unfold matchIndex_preserved_except_at_host."], "tactic": "intros h'0 Hneq.", "exn": "No product even after head-reduction.", "type": "no_product", "handled": true}, {"ctx": ["intros h st d m t es res h' Hhandle.", "unfold handleAppendEntriesReply in Hhandle.", "remember (currentTerm st =? t) as term_eqn eqn:Heq_term.", "destruct term_eqn.", "-", "remember (res) as result eqn:Heq_result.", "destruct result.", "+", "remember (maxIndex es) as index eqn:Heq_index.", "inversion Hhandle.", "subst.", "clear Hhandle.", "unfold matchIndex_preserved_except_at_host.", "intros.", "simpl."], "tactic": "rewrite assoc_default_not_eq by auto.", "exn": "The reference assoc_default_not_eq was not found in the current environment.", "type": "ref_not_found", "handled": true}, {"ctx": ["intros h st d m t es res h' Hhandle.", "unfold handleAppendEntriesReply in Hhandle.", "remember (currentTerm st =? t) as term_eqn eqn:Heq_term.", "destruct term_eqn.", "-", "remember (res) as result eqn:Heq_result.", "destruct result.", "+", "remember (maxIndex es) as index eqn:Heq_index.", "inversion Hhandle.", "subst.", "clear Hhandle.", "unfold matchIndex_preserved_except_at_host.", "intros.", "simpl."], "tactic": "apply assoc_set_same.", "exn": "In environment orig_base_params : BaseParams one_node_params : OneNodeParams orig_base_params raft_params : RaftParams orig_base_params h : name st : RaftState.raft_data term name entry logIndex serverType data clientId output t : nat es : list entry h' : name Heq_term : true = (currentTerm st =? t) H : type (mkRaft_data (currentTerm st) (votedFor st) (leaderId st) (log st) (commitIndex st) (lastApplied st) (stateMachine st) (assoc_set name_eq_dec (nextIndex st) h' (Init.Nat.max (getNextIndex st h') (S (maxIndex es)))) (assoc_set name_eq_dec (matchIndex st) h' (Init.Nat.max (assoc_default name_eq_dec (matchIndex st) h' 0) (maxIndex es))) (shouldSend st) (votesReceived st) (type st) (clientCache st) (electoralVictories st)) = Leader Unable to unify \"assoc_set ?M1683 ?M1684 ?M1685 ?M1686 = ?M1684\" with \"type st = Leader /\\\\ (forall h'0 : name, h' <> h'0 -> assoc_default name_eq_dec (assoc_set name_eq_dec (matchIndex st) h' (Init.Nat.max (assoc_default name_eq_dec (matchIndex st) h' 0) (maxIndex es))) h'0 0 = assoc_default name_eq_dec (matchIndex st) h'0 0)\".", "type": "cannot_unify", "handled": true}, {"ctx": ["intros h st d m t es res h' Hhandle.", "unfold handleAppendEntriesReply in Hhandle.", "remember (currentTerm st =? t) as term_eqn eqn:Heq_term.", "destruct term_eqn.", "-", "remember (res) as result eqn:Heq_result.", "destruct result.", "+", "remember (maxIndex es) as index eqn:Heq_index.", "inversion Hhandle.", "subst.", "clear Hhandle.", "unfold matchIndex_preserved_except_at_host.", "intros.", "simpl.", "qsimpl use: assoc_set_same."], "tactic": "+", "exn": "Wrong bullet +: Current bullet + is not finished.", "type": "unfinished_bullet", "handled": true}, {"ctx": ["intros h st d m t es res h' Hhandle.", "unfold handleAppendEntriesReply in Hhandle.", "remember (currentTerm st =? t) as term_eqn eqn:Heq_term.", "destruct term_eqn.", "-", "remember (res) as result eqn:Heq_result.", "destruct result.", "+", "remember (maxIndex es) as index eqn:Heq_index.", "inversion Hhandle.", "subst.", "clear Hhandle.", "unfold matchIndex_preserved_except_at_host.", "intros.", "simpl.", "qsimpl use: assoc_set_same.", "shelve.", "+", "inversion Hhandle."], "tactic": "-", "exn": "Wrong bullet -: Current bullet + is not finished.", "type": "unfinished_bullet", "handled": true}]}, "chat": [], "original": "intros h st d m t es res h' Hhandle. unfold handleAppendEntriesReply in Hhandle. remember (currentTerm st =? t) as term_eqn eqn:Heq_term. destruct term_eqn. - remember (res) as result eqn:Heq_result. destruct result. + remember (maxIndex es) as index eqn:Heq_index. inversion Hhandle. subst. clear Hhandle. unfold matchIndex_preserved_except_at_host. intros h'0 Hneq. simpl. rewrite assoc_default_not_eq by auto. apply assoc_set_same. auto. + inversion Hhandle. - inversion Hhandle.", "succ": false}]