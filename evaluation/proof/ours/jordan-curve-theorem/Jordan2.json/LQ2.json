[{"history": {"proof": "", "repairs": [], "exceptions": [{"ctx": ["intros m z s H."], "tactic": "unfold Iter_rem_aux; rewrite Iter_rem_aux_equation.", "exn": "Found no subterm matching \"Iter_rem_aux ?M2265 ?M2266 ?M2267\" in the current goal.", "type": "no_subterm", "handled": true}, {"ctx": ["intros m z s H.", "qsimpl use: Iter_rem_aux_equation,Iter_rem_aux."], "tactic": "destruct H as [z_eq | H].", "exn": "Not an inductive product.", "type": "not_inductive_product", "handled": true}, {"ctx": ["intros m z s H.", "qsimpl use: Iter_rem_aux_equation,Iter_rem_aux.", "qsimpl use: Iter_rem_aux_equation,Iter_rem_aux."], "tactic": "rewrite z_eq.", "exn": "The reference z_eq was not found in the current environment.", "type": "ref_not_found", "handled": true}, {"ctx": ["intros m z s H.", "qsimpl use: Iter_rem_aux_equation,Iter_rem_aux.", "qsimpl use: Iter_rem_aux_equation,Iter_rem_aux.", "rewrite Nat.add_lt_mono_r.", "apply Nat.lt_sub_lt_add_r.", "apply lt_O_minus_lt."], "tactic": "apply exds_card_pos in z_eq; auto.", "exn": "No such hypothesis: z_eq", "type": "no_hypos", "handled": true}, {"ctx": ["intros m z s H.", "qsimpl use: Iter_rem_aux_equation,Iter_rem_aux.", "qsimpl use: Iter_rem_aux_equation,Iter_rem_aux.", "rewrite Nat.add_lt_mono_r.", "apply Nat.lt_sub_lt_add_r.", "apply lt_O_minus_lt.", "qsimpl use: Iter_rem_aux_equation,Iter_rem_aux,exds_card_pos.", "destruct (exds_dec s (Iter (f m) (ndN m - card s) z)).", "+"], "tactic": "apply Nat.lt_sub_lt_add_r.", "exn": "In environment H4 : forall (s : set) (z : dart), exds s z -> (0 < card s)%nat H0 : forall (m : fmap) (z : dart) (sx : set), Iter_rem_aux m z sx = (if exds_dec sx (Iter (f m) (ndN m - card sx) z) then Iter_rem_aux m z (Ds sx (Iter (f m) (ndN m - card sx) z)) else sx) s0 : fmap -> dart -> set -> set m : fmap z : dart s : set H : exds s (Iter (f m) (ndN m - card s) z) H3, H5 : set e : exds s (Iter (f m) (ndN m - card s) z) Unable to unify \"(S ?M2925 <= ?M2926 + ?M2927)%nat\" with \"(1 <= card s - (card (s0 m z s) + z - z))%nat\".", "type": "cannot_unify", "handled": true}, {"ctx": ["intros m z s H.", "qsimpl use: Iter_rem_aux_equation,Iter_rem_aux.", "qsimpl use: Iter_rem_aux_equation,Iter_rem_aux.", "rewrite Nat.add_lt_mono_r.", "apply Nat.lt_sub_lt_add_r.", "apply lt_O_minus_lt.", "qsimpl use: Iter_rem_aux_equation,Iter_rem_aux,exds_card_pos.", "destruct (exds_dec s (Iter (f m) (ndN m - card s) z)).", "+", "qsimpl use: Iter_rem_aux_equation,Iter_rem_aux,exds_card_pos."], "tactic": "apply Nat.lt_sub_lt_add_l.", "exn": "In environment H6 : forall (s : set) (z : dart), exds s z -> (0 < card s)%nat H1 : forall (m : fmap) (z : dart) (sx : set), Iter_rem_aux m z sx = (if exds_dec sx (Iter (f m) (ndN m - card sx) z) then Iter_rem_aux m z (Ds sx (Iter (f m) (ndN m - card sx) z)) else sx) s0 : fmap -> dart -> set -> set m : fmap z : dart s : set H : exds s (Iter (f m) (ndN m - card s) z) H3, H5, H7 : set Unable to unify \"(S ?M3217 <= ?M3218 + ?M3219)%nat\" with \"(1 <= card s - (card (s0 m z s) + z - z))%nat\".", "type": "cannot_unify", "handled": true}, {"ctx": ["intros m z s H.", "qsimpl use: Iter_rem_aux_equation,Iter_rem_aux.", "qsimpl use: Iter_rem_aux_equation,Iter_rem_aux.", "rewrite Nat.add_lt_mono_r.", "apply Nat.lt_sub_lt_add_r.", "apply lt_O_minus_lt.", "qsimpl use: Iter_rem_aux_equation,Iter_rem_aux,exds_card_pos.", "destruct (exds_dec s (Iter (f m) (ndN m - card s) z)).", "+", "qsimpl use: Iter_rem_aux_equation,Iter_rem_aux,exds_card_pos.", "qsimpl use: Iter_rem_aux_equation,Iter_rem_aux,exds_card_pos."], "tactic": "apply card_rem_aux.", "exn": "In environment H4 : forall (s : set) (z : dart), exds s z -> (0 < card s)%nat H0 : forall (m : fmap) (z : dart) (sx : set), Iter_rem_aux m z sx = (if exds_dec sx (Iter (f m) (ndN m - card sx) z) then Iter_rem_aux m z (Ds sx (Iter (f m) (ndN m - card sx) z)) else sx) s0 : fmap -> dart -> set -> set m : fmap z : dart s : set H : exds s (Iter (f m) (ndN m - card s) z) H3, H5, H7, H8 : set Unable to unify \"(S (card (Iter_rem_aux ?M3524 ?M3525 ?M3526)) <= ndN ?M3524)%nat\" with \"(1 <= card s - (card (s0 m z s) + z - z))%nat\".", "type": "cannot_unify", "handled": true}, {"ctx": ["intros m z s H.", "qsimpl use: Iter_rem_aux_equation,Iter_rem_aux.", "qsimpl use: Iter_rem_aux_equation,Iter_rem_aux.", "rewrite Nat.add_lt_mono_r.", "apply Nat.lt_sub_lt_add_r.", "apply lt_O_minus_lt.", "qsimpl use: Iter_rem_aux_equation,Iter_rem_aux,exds_card_pos.", "destruct (exds_dec s (Iter (f m) (ndN m - card s) z)).", "+", "qsimpl use: Iter_rem_aux_equation,Iter_rem_aux,exds_card_pos.", "qsimpl use: Iter_rem_aux_equation,Iter_rem_aux,exds_card_pos.", "qsimpl use: Iter_rem_aux_equation,Iter_rem_aux,card_rem_aux,exds_card_pos."], "tactic": "apply Nat.lt_sub_lt_add_l in H; auto.", "exn": "Unable to apply lemma of type \"forall n m p : nat, (n - m < p)%nat -> (n < m + p)%nat\" on hypothesis of type \"exds s (Iter (f m) (ndN m - card s) z)\".", "type": "cannot_apply_in", "handled": true}, {"ctx": ["intros m z s H.", "qsimpl use: Iter_rem_aux_equation,Iter_rem_aux.", "qsimpl use: Iter_rem_aux_equation,Iter_rem_aux.", "rewrite Nat.add_lt_mono_r.", "apply Nat.lt_sub_lt_add_r.", "apply lt_O_minus_lt.", "qsimpl use: Iter_rem_aux_equation,Iter_rem_aux,exds_card_pos.", "destruct (exds_dec s (Iter (f m) (ndN m - card s) z)).", "+", "qsimpl use: Iter_rem_aux_equation,Iter_rem_aux,exds_card_pos.", "qsimpl use: Iter_rem_aux_equation,Iter_rem_aux,exds_card_pos.", "qsimpl use: Iter_rem_aux_equation,Iter_rem_aux,card_rem_aux,exds_card_pos.", "qsimpl use: Iter_rem_aux_equation,Iter_rem_aux,card_rem_aux,exds_card_pos."], "tactic": "+", "exn": "Wrong bullet +: Current bullet + is not finished.", "type": "unfinished_bullet", "handled": true}, {"ctx": ["intros m z s H.", "qsimpl use: Iter_rem_aux_equation,Iter_rem_aux.", "qsimpl use: Iter_rem_aux_equation,Iter_rem_aux.", "rewrite Nat.add_lt_mono_r.", "apply Nat.lt_sub_lt_add_r.", "apply lt_O_minus_lt.", "qsimpl use: Iter_rem_aux_equation,Iter_rem_aux,exds_card_pos.", "destruct (exds_dec s (Iter (f m) (ndN m - card s) z)).", "+", "qsimpl use: Iter_rem_aux_equation,Iter_rem_aux,exds_card_pos.", "qsimpl use: Iter_rem_aux_equation,Iter_rem_aux,exds_card_pos.", "qsimpl use: Iter_rem_aux_equation,Iter_rem_aux,card_rem_aux,exds_card_pos.", "qsimpl use: Iter_rem_aux_equation,Iter_rem_aux,card_rem_aux,exds_card_pos.", "shelve.", "+"], "tactic": "apply H.", "exn": "In environment H4 : forall (s : set) (z : dart), exds s z -> (0 < card s)%nat H0 : forall (m : fmap) (z : dart) (sx : set), Iter_rem_aux m z sx = (if exds_dec sx (Iter (f m) (ndN m - card sx) z) then Iter_rem_aux m z (Ds sx (Iter (f m) (ndN m - card sx) z)) else sx) s0 : fmap -> dart -> set -> set m : fmap z : dart s : set H : exds s (Iter (f m) (ndN m - card s) z) H3, H5 : set n : ~ exds s (Iter (f m) (ndN m - card s) z) Unable to unify \"exds s (Iter (f m) (ndN m - card s) z)\" with \"(0 < card s - (card (s0 m z s) + z - z))%nat\".", "type": "cannot_unify", "handled": true}]}, "chat": [], "original": "intros m z s H. unfold Iter_rem_aux; rewrite Iter_rem_aux_equation. destruct H as [z_eq | H]. - rewrite z_eq. simpl. apply Nat.lt_sub_lt_add_r. apply lt_O_minus_lt. apply exds_card_pos in z_eq; auto. - simpl. destruct (exds_dec s (Iter (f m) (ndN m - card s) z)). + apply Nat.lt_sub_lt_add_r. apply Nat.lt_sub_lt_add_l. apply card_rem_aux. apply Nat.lt_sub_lt_add_l in H; auto. + apply H.", "succ": false}]