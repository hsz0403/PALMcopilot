[{"history": {"proof": "", "repairs": [], "exceptions": [{"ctx": ["intros s a p d H1 H2.", "unfold union_mpl_0.", "destruct s.", "-", "auto.", "-", "destruct (N.eqb a0 a) eqn:E.", "+"], "tactic": "apply state_ref_ok_M2_destr in H1 as [H1s H1t].", "exn": "Unable to apply lemma of type \"forall (s0 s1 : state) (d : preDTA), state_ref_ok (M2 prec_list s0 s1) d -> state_ref_ok s0 d /\\\\ state_ref_ok s1 d\" on hypothesis of type \"state_ref_ok (M1 prec_list a p) d\".", "type": "cannot_apply_in", "handled": true}, {"ctx": ["intros s a p d H1 H2.", "unfold union_mpl_0.", "destruct s.", "-", "auto.", "-", "destruct (N.eqb a0 a) eqn:E.", "+", "qsimpl use: state_ref_ok_M2_destr."], "tactic": "apply H1s.", "exn": "The reference H1s was not found in the current environment.", "type": "ref_not_found", "handled": true}, {"ctx": ["intros s a p d H1 H2.", "unfold union_mpl_0.", "destruct s.", "-", "auto.", "-", "destruct (N.eqb a0 a) eqn:E.", "+", "qsimpl use: state_ref_ok_M2_destr.", "apply mapcanon_ind."], "tactic": "+", "exn": "Wrong bullet +: Current bullet + is not finished.", "type": "unfinished_bullet", "handled": true}, {"ctx": ["intros s a p d H1 H2.", "unfold union_mpl_0.", "destruct s.", "-", "auto.", "-", "destruct (N.eqb a0 a) eqn:E.", "+", "qsimpl use: state_ref_ok_M2_destr.", "apply mapcanon_ind.", "*", "shelve.", "*", "shelve.", "*", "shelve.", "*", "shelve.", "*", "shelve.", "+"], "tactic": "apply MapMerge_correct.", "exn": "The reference MapMerge_correct was not found in the current environment.", "type": "ref_not_found", "handled": true}, {"ctx": ["intros s a p d H1 H2.", "unfold union_mpl_0.", "destruct s.", "-", "auto.", "-", "destruct (N.eqb a0 a) eqn:E.", "+", "qsimpl use: state_ref_ok_M2_destr.", "apply mapcanon_ind.", "*", "shelve.", "*", "shelve.", "*", "shelve.", "*", "shelve.", "*", "shelve.", "+", "apply mapcanon_ind.", "*"], "tactic": "apply H1.", "exn": "In environment a0 : ad p0 : prec_list a : ad p : prec_list d : preDTA H1 : state_ref_ok (M1 prec_list a p) d H2 : state_ref_ok (M1 prec_list a0 p0) d E : (a0 =? a)%N = false Unable to unify \"state_ref_ok (M1 prec_list a p) d\" with \"state_ref_ok (if (a =? a0)%N then M1 prec_list a (union_pl p p0) else MapMerge prec_list (M1 prec_list a p) (M1 prec_list a0 p0)) (M0 state)\".", "type": "cannot_unify", "handled": true}, {"ctx": ["intros s a p d H1 H2.", "unfold union_mpl_0.", "destruct s.", "-", "auto.", "-", "destruct (N.eqb a0 a) eqn:E.", "+", "qsimpl use: state_ref_ok_M2_destr.", "apply mapcanon_ind.", "*", "shelve.", "*", "shelve.", "*", "shelve.", "*", "shelve.", "*", "shelve.", "+", "apply mapcanon_ind.", "*", "qsimpl use: state_ref_ok_M2_destr."], "tactic": "*", "exn": "Wrong bullet *: Current bullet * is not finished.", "type": "unfinished_bullet", "handled": true}, {"ctx": ["intros s a p d H1 H2.", "unfold union_mpl_0.", "destruct s.", "-", "auto.", "-", "destruct (N.eqb a0 a) eqn:E.", "+", "qsimpl use: state_ref_ok_M2_destr.", "apply mapcanon_ind.", "*", "shelve.", "*", "shelve.", "*", "shelve.", "*", "shelve.", "*", "shelve.", "+", "apply mapcanon_ind.", "*", "qsimpl use: state_ref_ok_M2_destr.", "--", "shelve.", "--", "shelve.", "--", "shelve.", "*"], "tactic": ["apply H2.", ""], "exn": "Applied theorem does not have enough premises.", "type": "no_enough_premises", "handled": false}]}, "chat": [], "original": "intros s a p d H1 H2. unfold union_mpl_0. destruct s. - auto. - destruct (N.eqb a0 a) eqn:E. + apply state_ref_ok_M2_destr in H1 as [H1s H1t]. apply H1s. + apply MapMerge_correct. * apply H1. * apply H2.", "succ": false}]