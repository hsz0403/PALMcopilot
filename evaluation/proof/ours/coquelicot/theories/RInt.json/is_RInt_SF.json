[{"history": {"proof": "", "repairs": [], "exceptions": [{"ctx": [], "tactic": "intros V f s Hsorted a b.", "exn": "V is already used.", "type": "used_var", "handled": true}, {"ctx": [], "tactic": "intros V' f s Hsorted a b.", "exn": "f is already used.", "type": "used_var", "handled": true}, {"ctx": [], "tactic": "intros V' f' s Hsorted a b.", "exn": "s is already used.", "type": "used_var", "handled": true}, {"ctx": [], "tactic": "intros V' f' s' Hsorted a b.", "exn": "No product even after head-reduction.", "type": "no_product", "handled": true}, {"ctx": ["intros.", "unfold is_RInt."], "tactic": "apply filterlim_snd.", "exn": "In environment V : NormedModule R_AbsRing f : R -> V s : SF_seq H : SF_sorted Rle s a := SF_h s : R b := last (SF_h s) (unzip1 (SF_t s)) : R P : ?U -> Prop y : ?G P Unable to unify \"filter_prod ?F ?G (fun x : ?T * ?U => P (snd x))\" with \"exists delta : posreal, forall y : SF_seq, (fun ptd : SF_seq => seq_step (SF_lx ptd)) y < delta -> (fun x : SF_seq => (fun ptd : SF_seq => pointed_subdiv ptd /\\\\ SF_h ptd = Rmin a b /\\\\ last (SF_h ptd) (SF_lx ptd) = Rmax a b) x -> (fun x0 : SF_seq => P ((fun ptd : SF_seq => scal (sign (b - a)) (Riemann_sum (SF_fun (SF_map f s) zero) ptd)) x0)) x) y\".", "type": "cannot_unify", "handled": true}, {"ctx": ["intros.", "unfold is_RInt.", "qsimpl use: filterlim_snd.", "intros eps Heps.", "unfold Rminus."], "tactic": "rewrite Ropp_minus_distr.", "exn": "The LHS of Ropp_minus_distr (- (_ - _)) does not match any subterm of the goal", "type": "no_match_term", "handled": true}, {"ctx": ["intros.", "unfold is_RInt.", "qsimpl use: filterlim_snd.", "intros eps Heps.", "unfold Rminus.", "qsimpl use: filterlim_snd,Ropp_minus_distr."], "tactic": "rewrite Rabs_Ropp.", "exn": "The LHS of Rabs_Ropp (Rabs (- _)) does not match any subterm of the goal", "type": "no_match_term", "handled": true}, {"ctx": ["intros.", "unfold is_RInt.", "qsimpl use: filterlim_snd.", "intros eps Heps.", "unfold Rminus.", "qsimpl use: filterlim_snd,Ropp_minus_distr.", "qsimpl use: filterlim_snd,Rabs_Ropp,Ropp_minus_distr."], "tactic": "pose proof (Riemann_sum_Chasles_0 f (Rmin a b) (Rmax a b) s eps) as H0.", "exn": "The reference b was not found in the current environment.", "type": "ref_not_found", "handled": true}, {"ctx": ["intros.", "unfold is_RInt.", "qsimpl use: filterlim_snd.", "intros eps Heps.", "unfold Rminus.", "qsimpl use: filterlim_snd,Ropp_minus_distr.", "qsimpl use: filterlim_snd,Rabs_Ropp,Ropp_minus_distr."], "tactic": "assert (H1: SF_h s <= Rmin a b <= Rmax a b <= last (SF_h s) (unzip1 (SF_t s))).", "exn": "The reference b was not found in the current environment.", "type": "ref_not_found", "handled": true}, {"ctx": ["intros.", "unfold is_RInt.", "qsimpl use: filterlim_snd.", "intros eps Heps.", "unfold Rminus.", "qsimpl use: filterlim_snd,Ropp_minus_distr.", "qsimpl use: filterlim_snd,Rabs_Ropp,Ropp_minus_distr."], "tactic": "split; try apply Rmin_l; try apply Rmin_r; try apply Rmax_l; try apply Rmax_r.", "exn": "Unable to find an instance for the variable x.", "type": "no_instance_var", "handled": true}, {"ctx": ["intros.", "unfold is_RInt.", "qsimpl use: filterlim_snd.", "intros eps Heps.", "unfold Rminus.", "qsimpl use: filterlim_snd,Ropp_minus_distr.", "qsimpl use: filterlim_snd,Rabs_Ropp,Ropp_minus_distr.", "qsimpl use: Rmax_l,Ropp_minus_distr,Rmin_r,Rabs_Ropp,filterlim_snd,Rmax_r,Rmin_l."], "tactic": "apply H0; auto.", "exn": "In environment H11 : forall x y : R, Rmin x y <= x H10 : forall x y : R, y <= Rmax x y H5 : forall r1 r2 : R, - (r1 - r2) = r2 - r1 H4 : forall x : R, Rabs (- x) = Rabs x V : NormedModule R_AbsRing f : R -> V s : SF_seq H : SF_sorted Rle s H0 : filterlim snd (filter_prod ?F ?G) ?G eps : V -> Prop Heps : locally (Riemann_sum f s) eps H1 : filterlim snd (filter_prod ?F0 ?G0) ?G0 H3 : filterlim snd (filter_prod ?F1 ?G1) ?G1 H9 : filterlim snd (filter_prod ?F2 ?G2) ?G2 H7 : forall x y : R, Rmin x y <= y H2 : forall x y : R, x <= Rmax x y Unable to unify \"forall P : ?U -> Prop, ?G P -> filtermap snd (filter_prod ?F ?G) P\" with \"exists delta : posreal, forall y : SF_seq, (fun ptd : SF_seq => seq_step (SF_lx ptd)) y < delta -> (fun x : SF_seq => (fun ptd : SF_seq => pointed_subdiv ptd /\\\\ SF_h ptd = Rmin (SF_h s) (last (SF_h s) (unzip1 (SF_t s))) /\\\\ last (SF_h ptd) (SF_lx ptd) = Rmax (SF_h s) (last (SF_h s) (unzip1 (SF_t s)))) x -> (fun x0 : SF_seq => eps ((fun ptd : SF_seq => scal (sign (last (SF_h s) (unzip1 (SF_t s)) + - SF_h s)) (Riemann_sum (SF_fun (SF_map f s) zero) ptd)) x0)) x) y\".", "type": "cannot_unify", "handled": true}, {"ctx": ["intros.", "unfold is_RInt.", "qsimpl use: filterlim_snd.", "intros eps Heps.", "unfold Rminus.", "qsimpl use: filterlim_snd,Ropp_minus_distr.", "qsimpl use: filterlim_snd,Rabs_Ropp,Ropp_minus_distr.", "qsimpl use: Rmax_l,Ropp_minus_distr,Rmin_r,Rabs_Ropp,filterlim_snd,Rmax_r,Rmin_l.", "qsimpl use: Rmax_l,Ropp_minus_distr,Rmin_r,Rabs_Ropp,filterlim_snd,Rmax_r,Rmin_l.", "clear H0."], "tactic": "intros x Hx.", "exn": "No product even after head-reduction.", "type": "no_product", "handled": true}, {"ctx": ["intros.", "unfold is_RInt.", "qsimpl use: filterlim_snd.", "intros eps Heps.", "unfold Rminus.", "qsimpl use: filterlim_snd,Ropp_minus_distr.", "qsimpl use: filterlim_snd,Rabs_Ropp,Ropp_minus_distr.", "qsimpl use: Rmax_l,Ropp_minus_distr,Rmin_r,Rabs_Ropp,filterlim_snd,Rmax_r,Rmin_l.", "qsimpl use: Rmax_l,Ropp_minus_distr,Rmin_r,Rabs_Ropp,filterlim_snd,Rmax_r,Rmin_l.", "clear H0."], "tactic": "apply Rabs_def2.", "exn": "In environment H16 : forall x y : R, Rmin x y <= x H15 : forall x y : R, y <= Rmax x y H5 : forall r1 r2 : R, - (r1 - r2) = r2 - r1 H4 : forall x : R, Rabs (- x) = Rabs x V : NormedModule R_AbsRing f : R -> V s : SF_seq H : SF_sorted Rle s eps : V -> Prop Heps : locally (Riemann_sum f s) eps H1 : filterlim snd (filter_prod ?F0 ?G0) ?G0 H3 : filterlim snd (filter_prod ?F1 ?G1) ?G1 H9 : filterlim snd (filter_prod ?F2 ?G2) ?G2 H7 : forall x y : R, Rmin x y <= y H2 : forall x y : R, x <= Rmax x y H14 : filterlim snd (filter_prod ?F3 ?G3) ?G3 Unable to unify \"?M6845 < ?M6846 /\\\\ - ?M6846 < ?M6845\" with \"exists delta : posreal, forall y : SF_seq, (fun ptd : SF_seq => seq_step (SF_lx ptd)) y < delta -> (fun x : SF_seq => (fun ptd : SF_seq => pointed_subdiv ptd /\\\\ SF_h ptd = Rmin (SF_h s) (last (SF_h s) (unzip1 (SF_t s))) /\\\\ last (SF_h ptd) (SF_lx ptd) = Rmax (SF_h s) (last (SF_h s) (unzip1 (SF_t s)))) x -> (fun x0 : SF_seq => eps ((fun ptd : SF_seq => scal (sign (last (SF_h s) (unzip1 (SF_t s)) + - SF_h s)) (Riemann_sum (SF_fun (SF_map f s) zero) ptd)) x0)) x) y\".", "type": "cannot_unify", "handled": true}, {"ctx": ["intros.", "unfold is_RInt.", "qsimpl use: filterlim_snd.", "intros eps Heps.", "unfold Rminus.", "qsimpl use: filterlim_snd,Ropp_minus_distr.", "qsimpl use: filterlim_snd,Rabs_Ropp,Ropp_minus_distr.", "qsimpl use: Rmax_l,Ropp_minus_distr,Rmin_r,Rabs_Ropp,filterlim_snd,Rmax_r,Rmin_l.", "qsimpl use: Rmax_l,Ropp_minus_distr,Rmin_r,Rabs_Ropp,filterlim_snd,Rmax_r,Rmin_l.", "clear H0.", "qsimpl use: Rmax_l,Ropp_minus_distr,Rmin_r,Rabs_def2,Rabs_Ropp,filterlim_snd,Rmax_r,Rmin_l."], "tactic": "apply Rle_trans with (Rabs (scal (sign (b - a)) (Riemann_sum f s))).", "exn": "The reference b was not found in the current environment.", "type": "ref_not_found", "handled": true}, {"ctx": ["intros.", "unfold is_RInt.", "qsimpl use: filterlim_snd.", "intros eps Heps.", "unfold Rminus.", "qsimpl use: filterlim_snd,Ropp_minus_distr.", "qsimpl use: filterlim_snd,Rabs_Ropp,Ropp_minus_distr.", "qsimpl use: Rmax_l,Ropp_minus_distr,Rmin_r,Rabs_Ropp,filterlim_snd,Rmax_r,Rmin_l.", "qsimpl use: Rmax_l,Ropp_minus_distr,Rmin_r,Rabs_Ropp,filterlim_snd,Rmax_r,Rmin_l.", "clear H0.", "qsimpl use: Rmax_l,Ropp_minus_distr,Rmin_r,Rabs_def2,Rabs_Ropp,filterlim_snd,Rmax_r,Rmin_l."], "tactic": "apply RRle_abs.", "exn": "In environment H17 : forall x y : R, Rmin x y <= x H13 : forall x y : R, y <= Rmax x y H5 : forall r1 r2 : R, - (r1 - r2) = r2 - r1 H4 : forall x : R, Rabs (- x) = Rabs x V : NormedModule R_AbsRing f : R -> V s : SF_seq H : SF_sorted Rle s eps : V -> Prop Heps : locally (Riemann_sum f s) eps H1 : filterlim snd (filter_prod ?F0 ?G0) ?G0 H3 : filterlim snd (filter_prod ?F1 ?G1) ?G1 H9 : filterlim snd (filter_prod ?F2 ?G2) ?G2 H7 : forall x y : R, Rmin x y <= y H2 : forall x y : R, x <= Rmax x y H14 : filterlim snd (filter_prod ?F3 ?G3) ?G3 H12 : filterlim snd (filter_prod ?F4 ?G4) ?G4 H10 : forall x a : R, Rabs x < a -> x < a /\\\\ - a < x Unable to unify \"?M8625 < Rabs ?M8625 \\\\/ ?M8625 = Rabs ?M8625\" with \"exists delta : posreal, forall y : SF_seq, (fun ptd : SF_seq => seq_step (SF_lx ptd)) y < delta -> (fun x : SF_seq => (fun ptd : SF_seq => pointed_subdiv ptd /\\\\ SF_h ptd = Rmin (SF_h s) (last (SF_h s) (unzip1 (SF_t s))) /\\\\ last (SF_h ptd) (SF_lx ptd) = Rmax (SF_h s) (last (SF_h s) (unzip1 (SF_t s)))) x -> (fun x0 : SF_seq => eps ((fun ptd : SF_seq => scal (sign (last (SF_h s) (unzip1 (SF_t s)) + - SF_h s)) (Riemann_sum (SF_fun (SF_map f s) zero) ptd)) x0)) x) y\".", "type": "cannot_unify", "handled": true}, {"ctx": ["intros.", "unfold is_RInt.", "qsimpl use: filterlim_snd.", "intros eps Heps.", "unfold Rminus.", "qsimpl use: filterlim_snd,Ropp_minus_distr.", "qsimpl use: filterlim_snd,Rabs_Ropp,Ropp_minus_distr.", "qsimpl use: Rmax_l,Ropp_minus_distr,Rmin_r,Rabs_Ropp,filterlim_snd,Rmax_r,Rmin_l.", "qsimpl use: Rmax_l,Ropp_minus_distr,Rmin_r,Rabs_Ropp,filterlim_snd,Rmax_r,Rmin_l.", "clear H0.", "qsimpl use: Rmax_l,Ropp_minus_distr,Rmin_r,Rabs_def2,Rabs_Ropp,filterlim_snd,Rmax_r,Rmin_l.", "qsimpl use: Rmax_l,Ropp_minus_distr,Rmin_r,Rabs_def2,Rabs_Ropp,filterlim_snd,Rmax_r,RRle_abs,Rmin_l."], "tactic": "apply Heps.", "exn": "In environment H20 : forall x y : R, Rmin x y <= x H19 : forall x : R, x <= Rabs x H18 : forall x y : R, y <= Rmax x y H5 : forall r1 r2 : R, - (r1 - r2) = r2 - r1 H4 : forall x : R, Rabs (- x) = Rabs x V : NormedModule R_AbsRing f : R -> V s : SF_seq H : SF_sorted Rle s eps : V -> Prop Heps : locally (Riemann_sum f s) eps H1 : filterlim snd (filter_prod ?F0 ?G0) ?G0 H3 : filterlim snd (filter_prod ?F1 ?G1) ?G1 H9 : filterlim snd (filter_prod ?F2 ?G2) ?G2 H7 : forall x y : R, Rmin x y <= y H2 : forall x y : R, x <= Rmax x y H14 : filterlim snd (filter_prod ?F3 ?G3) ?G3 H12 : filterlim snd (filter_prod ?F4 ?G4) ?G4 H10 : forall x a : R, Rabs x < a -> x < a /\\\\ - a < x H16 : filterlim snd (filter_prod ?F5 ?G5) ?G5 Unable to unify \"locally (Riemann_sum f s) eps\" with \"filtermap (fun ptd : SF_seq => scal (sign (last (SF_h s) (unzip1 (SF_t s)) + - SF_h s)) (Riemann_sum (SF_fun (SF_map f s) zero) ptd)) (Riemann_fine (SF_h s) (last (SF_h s) (unzip1 (SF_t s)))) eps\".", "type": "cannot_unify", "handled": true}]}, "chat": [], "original": "intros V f s Hsorted a b. unfold is_RInt. apply filterlim_snd. intros eps Heps. unfold Rminus. rewrite Ropp_minus_distr. rewrite Rabs_Ropp. pose proof (Riemann_sum_Chasles_0 f (Rmin a b) (Rmax a b) s eps) as H0. assert (H1: SF_h s <= Rmin a b <= Rmax a b <= last (SF_h s) (unzip1 (SF_t s))). { split; try apply Rmin_l; try apply Rmin_r; try apply Rmax_l; try apply Rmax_r. } apply H0; auto. clear H0. intros x Hx. apply Rabs_def2. apply Rle_trans with (Rabs (scal (sign (b - a)) (Riemann_sum f s))). apply RRle_abs. apply Heps.", "succ": false}]