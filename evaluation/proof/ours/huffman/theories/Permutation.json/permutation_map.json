[{"history": {"proof": "", "repairs": [], "exceptions": [{"ctx": ["intros A B f l1 l2 H."], "tactic": "unfold permutation in H |-*.", "exn": "Cannot coerce permutation to an evaluable reference.", "type": "not_evaluable", "handled": true}, {"ctx": ["intros A B f l1 l2 H."], "tactic": "apply in_map_iff in H0.", "exn": "No such hypothesis: H0", "type": "no_hypos", "handled": true}, {"ctx": ["intros A B f l1 l2 H.", "qsimpl use: permutation,in_map_iff."], "tactic": "destruct H0 as [x [H1 H2]].", "exn": "Unable to find an instance for the variables A, B, f, l, y.", "type": "no_instance_var", "handled": true}, {"ctx": ["intros A B f l1 l2 H.", "qsimpl use: permutation,in_map_iff."], "tactic": "apply in_map_iff.", "exn": "In environment A : Type B : Type f : A -> B l1, l2 : list A H : permutation l1 l2 H0 : forall (A B : Type) (f : A -> B) (l : list A) (y : B), (exists x : A, f x = y /\\\\ In x l) -> In y (map f l) H1 : forall (A B : Type) (f : A -> B) (l : list A) (y : B), In y (map f l) -> exists x : A, f x = y /\\\\ In x l Unable to unify \"(In ?M2088 (map ?M2086 ?M2087) -> exists x : ?M2084, ?M2086 x = ?M2088 /\\\\ In x ?M2087) /\\\\ ((exists x : ?M2084, ?M2086 x = ?M2088 /\\\\ In x ?M2087) -> In ?M2088 (map ?M2086 ?M2087))\" with \"permutation (map f l1) (map f l2)\".", "type": "cannot_unify", "handled": true}, {"ctx": ["intros A B f l1 l2 H.", "qsimpl use: permutation,in_map_iff."], "tactic": "exists x.", "exn": "The reference x was not found in the current environment.", "type": "ref_not_found", "handled": true}, {"ctx": ["intros A B f l1 l2 H.", "qsimpl use: permutation,in_map_iff."], "tactic": "split.", "exn": "Not an inductive goal with 1 constructor.", "type": "not_inductive_goal", "handled": true}, {"ctx": ["intros A B f l1 l2 H.", "qsimpl use: permutation,in_map_iff."], "tactic": "apply in_map with (f:=f) in H1.", "exn": "Unable to apply lemma of type \"forall (A B : Type) (f : A -> B) (l : list A) (x : A), In x l -> In (f x) (map f l)\" on hypothesis of type \"forall (A B : Type) (f : A -> B) (l : list A) (y : B), In y (map f l) -> exists x : A, f x = y /\\\\ In x l\".", "type": "cannot_apply_in", "handled": true}, {"ctx": ["intros A B f l1 l2 H.", "qsimpl use: permutation,in_map_iff.", "qsimpl use: permutation,in_map,in_map_iff."], "tactic": "rewrite map_map in H1.", "exn": "Found no subterm matching \"map ?M2858 (map ?M2857 ?M2859)\" in H1.", "type": "no_subterm", "handled": true}, {"ctx": ["intros A B f l1 l2 H.", "qsimpl use: permutation,in_map_iff.", "qsimpl use: permutation,in_map,in_map_iff.", "qsimpl use: map_map,permutation,in_map,in_map_iff."], "tactic": "apply in_map_iff in H1.", "exn": "Unable to apply lemma of type \"forall (A B : Type) (f : A -> B) (l : list A) (y : B), In y (map f l) <-> (exists x : A, f x = y /\\\\ In x l)\" on hypothesis of type \"forall (A B : Type) (f : A -> B) (l : list A) (y : B), In y (map f l) -> exists x : A, f x = y /\\\\ In x l\".", "type": "cannot_apply_in", "handled": true}, {"ctx": ["intros A B f l1 l2 H.", "qsimpl use: permutation,in_map_iff.", "qsimpl use: permutation,in_map,in_map_iff.", "qsimpl use: map_map,permutation,in_map,in_map_iff.", "qsimpl use: map_map,permutation,in_map,in_map_iff."], "tactic": "destruct H1 as [y [H3 H4]].", "exn": "Unable to find an instance for the variables A, B, f, l, y.", "type": "no_instance_var", "handled": true}, {"ctx": ["intros A B f l1 l2 H.", "qsimpl use: permutation,in_map_iff.", "qsimpl use: permutation,in_map,in_map_iff.", "qsimpl use: map_map,permutation,in_map,in_map_iff.", "qsimpl use: map_map,permutation,in_map,in_map_iff.", "qsimpl use: map_map,permutation,in_map,in_map_iff."], "tactic": "rewrite <- H3 in H2.", "exn": "No such hypothesis: H2", "type": "no_hypos", "handled": true}, {"ctx": ["intros A B f l1 l2 H.", "qsimpl use: permutation,in_map_iff.", "qsimpl use: permutation,in_map,in_map_iff.", "qsimpl use: map_map,permutation,in_map,in_map_iff.", "qsimpl use: map_map,permutation,in_map,in_map_iff.", "qsimpl use: map_map,permutation,in_map,in_map_iff.", "qsimpl use: map_map,permutation,in_map,in_map_iff."], "tactic": "apply in_map_iff.", "exn": "In environment H5 : forall (A B : Type) (f : A -> B) (l : list A) (x : A), In x l -> In (f x) (map f l) H2 : forall (A B C : Type) (f : A -> B) (g : B -> C) (l : list A), map g (map f l) = map (fun x : A => g (f x)) l A : Type B : Type f : A -> B l1, l2 : list A H : permutation l1 l2 H0 : forall (A B : Type) (f : A -> B) (l : list A) (y : B), (exists x : A, f x = y /\\\\ In x l) -> In y (map f l) H1 : forall (A B : Type) (f : A -> B) (l : list A) (y : B), In y (map f l) -> exists x : A, f x = y /\\\\ In x l Unable to unify \"(In ?M6418 (map ?M6416 ?M6417) -> exists x : ?M6414, ?M6416 x = ?M6418 /\\\\ In x ?M6417) /\\\\ ((exists x : ?M6414, ?M6416 x = ?M6418 /\\\\ In x ?M6417) -> In ?M6418 (map ?M6416 ?M6417))\" with \"permutation (map f l1) (map f l2)\".", "type": "cannot_unify", "handled": true}, {"ctx": ["intros A B f l1 l2 H.", "qsimpl use: permutation,in_map_iff.", "qsimpl use: permutation,in_map,in_map_iff.", "qsimpl use: map_map,permutation,in_map,in_map_iff.", "qsimpl use: map_map,permutation,in_map,in_map_iff.", "qsimpl use: map_map,permutation,in_map,in_map_iff.", "qsimpl use: map_map,permutation,in_map,in_map_iff.", "qsimpl use: map_map,permutation,in_map,in_map_iff."], "tactic": "exists y.", "exn": "The reference y was not found in the current environment.", "type": "ref_not_found", "handled": true}, {"ctx": ["intros A B f l1 l2 H.", "qsimpl use: permutation,in_map_iff.", "qsimpl use: permutation,in_map,in_map_iff.", "qsimpl use: map_map,permutation,in_map,in_map_iff.", "qsimpl use: map_map,permutation,in_map,in_map_iff.", "qsimpl use: map_map,permutation,in_map,in_map_iff.", "qsimpl use: map_map,permutation,in_map,in_map_iff.", "qsimpl use: map_map,permutation,in_map,in_map_iff."], "tactic": "apply in_map.", "exn": "In environment H4 : forall (A B : Type) (f : A -> B) (l : list A) (x : A), In x l -> In (f x) (map f l) H3 : forall (A B C : Type) (f : A -> B) (g : B -> C) (l : list A), map g (map f l) = map (fun x : A => g (f x)) l A : Type B : Type f : A -> B l1, l2 : list A H : permutation l1 l2 H0 : forall (A B : Type) (f : A -> B) (l : list A) (y : B), (exists x : A, f x = y /\\\\ In x l) -> In y (map f l) H1 : forall (A B : Type) (f : A -> B) (l : list A) (y : B), In y (map f l) -> exists x : A, f x = y /\\\\ In x l Unable to unify \"(fix In (a : ?M7305) (l : list ?M7305) {struct l} : Prop := match l with | [] => False | b :: m => b = a \\\\/ In a m end) (?M7306 ?M7308) (map ?M7306 ?M7307)\" with \"permutation (map f l1) (map f l2)\".", "type": "cannot_unify", "handled": true}]}, "chat": [], "original": "intros A B f l1 l2 H. unfold permutation in H |-*. intros. apply in_map_iff in H0. destruct H0 as [x [H1 H2]]. apply in_map_iff. exists x. split. + apply in_map with (f:=f) in H1. rewrite map_map in H1. apply in_map_iff in H1. destruct H1 as [y [H3 H4]]. rewrite <- H3 in H2. apply in_map_iff. exists y. auto. + apply in_map. auto.", "succ": false}]