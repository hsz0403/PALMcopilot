[{"history": {"proof": "", "repairs": [], "exceptions": [{"ctx": ["unfold refined_raft_net_invariant_state_same_packet_subset.", "intros.", "unfold allEntries_votesWithLog in *."], "tactic": "unfold raft_refinement_interface in *.", "exn": "Cannot coerce raft_refinement_interface to an evaluable reference.", "type": "not_evaluable", "handled": true}, {"ctx": ["unfold refined_raft_net_invariant_state_same_packet_subset.", "intros.", "unfold allEntries_votesWithLog in *."], "tactic": "unfold allEntries_log_interface in *.", "exn": "Cannot coerce allEntries_log_interface to an evaluable reference.", "type": "not_evaluable", "handled": true}, {"ctx": ["unfold refined_raft_net_invariant_state_same_packet_subset.", "intros.", "unfold allEntries_votesWithLog in *."], "tactic": "unfold RaftParams in *.", "exn": "Cannot coerce RaftParams to an evaluable reference.", "type": "not_evaluable", "handled": true}, {"ctx": ["unfold refined_raft_net_invariant_state_same_packet_subset.", "intros.", "unfold allEntries_votesWithLog in *."], "tactic": "unfold BaseParams in *.", "exn": "Cannot coerce BaseParams to an evaluable reference.", "type": "not_evaluable", "handled": true}, {"ctx": ["unfold refined_raft_net_invariant_state_same_packet_subset.", "intros.", "unfold allEntries_votesWithLog in *."], "tactic": "unfold OneNodeParams in *.", "exn": "Cannot coerce OneNodeParams to an evaluable reference.", "type": "not_evaluable", "handled": true}, {"ctx": ["unfold refined_raft_net_invariant_state_same_packet_subset.", "intros.", "unfold allEntries_votesWithLog in *."], "tactic": "unfold votes_correct_interface in *.", "exn": "Cannot coerce votes_correct_interface to an evaluable reference.", "type": "not_evaluable", "handled": true}, {"ctx": ["unfold refined_raft_net_invariant_state_same_packet_subset.", "intros.", "unfold allEntries_votesWithLog in *."], "tactic": "unfold votesWithLog_term_sanity_interface in *.", "exn": "Cannot coerce votesWithLog_term_sanity_interface to an evaluable reference.", "type": "not_evaluable", "handled": true}, {"ctx": ["unfold refined_raft_net_invariant_state_same_packet_subset.", "intros.", "unfold allEntries_votesWithLog in *."], "tactic": "unfold votes_votesWithLog_correspond_interface in *.", "exn": "Cannot coerce votes_votesWithLog_correspond_interface to an evaluable reference.", "type": "not_evaluable", "handled": true}, {"ctx": ["unfold refined_raft_net_invariant_state_same_packet_subset.", "intros.", "unfold allEntries_votesWithLog in *."], "tactic": "unfold votesVotesWithLog_correspond_invariant in *.", "exn": "The reference votesVotesWithLog_correspond_invariant was not found in the current environment.", "type": "ref_not_found", "handled": true}, {"ctx": ["unfold refined_raft_net_invariant_state_same_packet_subset.", "intros.", "unfold allEntries_votesWithLog in *."], "tactic": "unfold Build_votes_withLog_term_sanity_interface in *.", "exn": "The reference Build_votes_withLog_term_sanity_interface was not found in the current environment.", "type": "ref_not_found", "handled": true}, {"ctx": ["unfold refined_raft_net_invariant_state_same_packet_subset.", "intros.", "unfold allEntries_votesWithLog in *."], "tactic": "unfold build_votesVotesWithLogCorrespondInterface in *.", "exn": "The reference build_votesVotesWithLogCorrespondInterface was not found in the current environment.", "type": "ref_not_found", "handled": true}, {"ctx": ["unfold refined_raft_net_invariant_state_same_packet_subset.", "intros.", "unfold allEntries_votesWithLog in *."], "tactic": "unfold allEntriesVotesWithLog in *.", "exn": "The reference allEntriesVotesWithLog was not found in the current environment.", "type": "ref_not_found", "handled": true}, {"ctx": ["unfold refined_raft_net_invariant_state_same_packet_subset.", "intros.", "unfold allEntries_votesWithLog in *."], "tactic": "unfold raftNetHandler in *.", "exn": "The reference raftNetHandler was not found in the current environment.", "type": "ref_not_found", "handled": true}, {"ctx": ["unfold refined_raft_net_invariant_state_same_packet_subset.", "intros.", "unfold allEntries_votesWithLog in *."], "tactic": "unfold raftInputHandler in *.", "exn": "The reference raftInputHandler was not found in the current environment.", "type": "ref_not_found", "handled": true}, {"ctx": ["unfold refined_raft_net_invariant_state_same_packet_subset.", "intros.", "unfold allEntries_votesWithLog in *."], "tactic": "unfold allEntriesVotesWithLogInterface in *.", "exn": "The reference allEntriesVotesWithLogInterface was not found in the current environment.", "type": "ref_not_found", "handled": true}, {"ctx": ["unfold refined_raft_net_invariant_state_same_packet_subset.", "intros.", "unfold allEntries_votesWithLog in *."], "tactic": "unfold raftNetInvariantDoLeader in *.", "exn": "The reference raftNetInvariantDoLeader was not found in the current environment.", "type": "ref_not_found", "handled": true}, {"ctx": ["unfold refined_raft_net_invariant_state_same_packet_subset.", "intros.", "unfold allEntries_votesWithLog in *."], "tactic": "unfold raftNetInvariantStateSamePacketSubset in *.", "exn": "The reference raftNetInvariantStateSamePacketSubset was not found in the current environment.", "type": "ref_not_found", "handled": true}, {"ctx": ["unfold refined_raft_net_invariant_state_same_packet_subset.", "intros.", "unfold allEntries_votesWithLog in *."], "tactic": "unfold raftRefinementInterface in *.", "exn": "The reference raftRefinementInterface was not found in the current environment.", "type": "ref_not_found", "handled": true}, {"ctx": ["unfold refined_raft_net_invariant_state_same_packet_subset.", "intros.", "unfold allEntries_votesWithLog in *."], "tactic": "unfold executeLog' in *.", "exn": "The reference executeLog' was not found in the current environment.", "type": "ref_not_found", "handled": true}, {"ctx": ["unfold refined_raft_net_invariant_state_same_packet_subset.", "intros.", "unfold allEntries_votesWithLog in *."], "tactic": "unfold raftBaseParams in *.", "exn": "The reference raftBaseParams was not found in the current environment.", "type": "ref_not_found", "handled": true}, {"ctx": ["unfold refined_raft_net_invariant_state_same_packet_subset.", "intros.", "unfold allEntries_votesWithLog in *."], "tactic": "unfold raftRefinedBaseParams in *.", "exn": "The reference raftRefinedBaseParams was not found in the current environment.", "type": "ref_not_found", "handled": true}, {"ctx": ["unfold refined_raft_net_invariant_state_same_packet_subset.", "intros.", "unfold allEntries_votesWithLog in *."], "tactic": "unfold raftRefinementInterface in *.", "exn": "The reference raftRefinementInterface was not found in the current environment.", "type": "ref_not_found", "handled": true}, {"ctx": ["unfold refined_raft_net_invariant_state_same_packet_subset.", "intros.", "unfold allEntries_votesWithLog in *."], "tactic": "unfold raftRefinedMultiParams in *.", "exn": "The reference raftRefinedMultiParams was not found in the current environment.", "type": "ref_not_found", "handled": true}, {"ctx": ["unfold refined_raft_net_invariant_state_same_packet_subset.", "intros.", "unfold allEntries_votesWithLog in *."], "tactic": "unfold votesWithLogVotes in *.", "exn": "The reference votesWithLogVotes was not found in the current environment.", "type": "ref_not_found", "handled": true}, {"ctx": ["unfold refined_raft_net_invariant_state_same_packet_subset.", "intros.", "unfold allEntries_votesWithLog in *."], "tactic": "unfold votesWithLogTermSanity in *.", "exn": "The reference votesWithLogTermSanity was not found in the current environment.", "type": "ref_not_found", "handled": true}, {"ctx": ["unfold refined_raft_net_invariant_state_same_packet_subset.", "intros.", "unfold allEntries_votesWithLog in *."], "tactic": "unfold allEntriesVotesWithLogInvariant in *.", "exn": "The reference allEntriesVotesWithLogInvariant was not found in the current environment.", "type": "ref_not_found", "handled": true}, {"ctx": ["unfold refined_raft_net_invariant_state_same_packet_subset.", "intros.", "unfold allEntries_votesWithLog in *."], "tactic": "unfold raftNetInvariantDoLeader in *.", "exn": "The reference raftNetInvariantDoLeader was not found in the current environment.", "type": "ref_not_found", "handled": true}, {"ctx": ["unfold refined_raft_net_invariant_state_same_packet_subset.", "intros.", "unfold allEntries_votesWithLog in *."], "tactic": "unfold raftNetInvariantTimeout in *.", "exn": "The reference raftNetInvariantTimeout was not found in the current environment.", "type": "ref_not_found", "handled": true}, {"ctx": ["unfold refined_raft_net_invariant_state_same_packet_subset.", "intros.", "unfold allEntries_votesWithLog in *."], "tactic": "unfold allEntriesVotesWithLogInterface in *.", "exn": "The reference allEntriesVotesWithLogInterface was not found in the current environment.", "type": "ref_not_found", "handled": true}, {"ctx": ["unfold refined_raft_net_invariant_state_same_packet_subset.", "intros.", "unfold allEntries_votesWithLog in *."], "tactic": "unfold votesVotesWithLogCorrespond in *.", "exn": "The reference votesVotesWithLogCorrespond was not found in the current environment.", "type": "ref_not_found", "handled": true}, {"ctx": ["unfold refined_raft_net_invariant_state_same_packet_subset.", "intros.", "unfold allEntries_votesWithLog in *."], "tactic": "refine msg.", "exn": "In environment orig_base_params : BaseParams one_node_params : OneNodeParams orig_base_params raft_params : RaftParams orig_base_params rri : raft_refinement_interface aeli : allEntries_log_interface vwltsi : votesWithLog_term_sanity_interface vvwlci : votes_votesWithLog_correspond_interface vci : votes_correct_interface net, net' : network H : forall h : Net.name, nwState net h = nwState net' h H0 : forall p : packet, In p (nwPackets net') -> In p (nwPackets net) H1 : forall (t : term) (e : entry) (t' : term) (leader : name) (h : Net.name) (log : list entry), In (t, e) (allEntries (fst (nwState net h))) -> In (t', leader, log) (votesWithLog (fst (nwState net h))) -> t < t' -> In e log \\\\/ (exists (t'' : term) (leader' : Net.name) (log' : list entry), In (t'', log') (leaderLogs (fst (nwState net leader'))) /\\\\ t < t'' < t' /\\\\ ~ In e log') H2 : refined_raft_intermediate_reachable net The term \"msg\" has type \"Type\" while it is expected to have type \"forall (t : term) (e : entry) (t' : term) (leader : name) (h : Net.name) (log : list entry), In (t, e) (allEntries (fst (nwState net' h))) -> In (t', leader, log) (votesWithLog (fst (nwState net' h))) -> t < t' -> In e log \\\\/ (exists (t'' : term) (leader' : Net.name) (log' : list entry), In (t'', log') (leaderLogs (fst (nwState net' leader'))) /\\\\ t < t'' < t' /\\\\ ~ In e log')\".", "type": "wrong_type", "handled": true}]}, "chat": [], "original": "unfold refined_raft_net_invariant_state_same_packet_subset. intros. intros. intros. intros. intros. intros. unfold allEntries_votesWithLog in *. unfold votes_votesWithLog_correspond in *. unfold votesWithLog_term_sanity in *. unfold votes_votesWithLog in *. unfold votes_correct in *. unfold raft_refinement_interface in *. unfold allEntries_log_interface in *. unfold RaftParams in *. unfold BaseParams in *. unfold OneNodeParams in *. unfold votesWithLog_term_sanity in *. unfold votes_votesWithLog_correspond in *. unfold refined_raft_net_invariant_state_same_packet_subset in *. unfold votes_correct_interface in *. unfold raft_refined_multi_params in *. unfold raft_net_invariant_init in *. unfold votesWithLog_term_sanity_interface in *. unfold raft_refined_base_params in *. unfold raft_refined_failure_params in *. unfold votes_votesWithLog_correspond_interface in *. unfold votesVotesWithLog_correspond_invariant in *. unfold update in *. unfold Build_votes_withLog_term_sanity_interface in *. unfold refined_raft_net_invariant in *. unfold build_votesVotesWithLogCorrespondInterface in *. unfold allEntriesVotesWithLog in *. unfold raftNetHandler in *. unfold raftInputHandler in *. unfold applyEntries in *. unfold allEntriesVotesWithLogInterface in *. unfold raftNetInvariantDoLeader in *. unfold raftNetInvariantStateSamePacketSubset in *. unfold raftRefinementInterface in *. unfold executeLog' in *. unfold raftBaseParams in *. unfold raftRefinedBaseParams in *. unfold raftRefinementInterface in *. unfold raftRefinedMultiParams in *. unfold votesWithLogVotes in *. unfold votesWithLogTermSanity in *. unfold allEntriesVotesWithLogInvariant in *. unfold RaftInputHandler in *. unfold RaftNetHandler in *. unfold doGenericServer in *. unfold raftNetInvariantDoLeader in *. unfold raftNetInvariantTimeout in *. unfold allEntriesVotesWithLogInterface in *. unfold votesVotesWithLogCorrespond in *. refine msg.", "succ": false}]