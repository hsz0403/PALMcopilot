[{"history": {"proof": "", "repairs": [], "exceptions": [{"ctx": ["intros net.", "unfold deghost, reghost.", "destruct net as [nwPackets nwState].", "f_equal.", "unfold ghost_packet, deghost_packet.", "rewrite map_map."], "tactic": "apply map_ext.", "exn": "In environment base_params : BaseParams multi_params : MultiParams base_params failure_params : FailureParams multi_params ghost_params : GhostMultiParams multi_params nwPackets : list packet nwState : name -> data Unable to unify \"map ?M1677 ?M1680 = map ?M1678 ?M1680\" with \"map (fun x : packet => {| pSrc := pSrc {| pSrc := pSrc x; pDst := pDst x; pBody := pBody x |}; pDst := pDst {| pSrc := pSrc x; pDst := pDst x; pBody := pBody x |}; pBody := pBody {| pSrc := pSrc x; pDst := pDst x; pBody := pBody x |} |}) (Net.nwPackets {| nwPackets := nwPackets; nwState := nwState |}) = nwPackets\".", "type": "cannot_unify", "handled": true}, {"ctx": ["intros net.", "unfold deghost, reghost.", "destruct net as [nwPackets nwState].", "f_equal.", "unfold ghost_packet, deghost_packet.", "rewrite map_map.", "qsimpl use: map_ext."], "tactic": "destruct a as [p d].", "exn": "The reference a was not found in the current environment.", "type": "ref_not_found", "handled": true}, {"ctx": ["intros net.", "unfold deghost, reghost.", "destruct net as [nwPackets nwState].", "f_equal.", "unfold ghost_packet, deghost_packet.", "rewrite map_map.", "qsimpl use: map_ext."], "tactic": "now rewrite ghost_deghost_packet.", "exn": "The reference ghost_deghost_packet was not found in the current environment.", "type": "ref_not_found", "handled": true}, {"ctx": ["intros net.", "unfold deghost, reghost.", "destruct net as [nwPackets nwState].", "f_equal.", "unfold ghost_packet, deghost_packet.", "rewrite map_map.", "qsimpl use: map_ext."], "tactic": "apply functional_extensionality.", "exn": "In environment H : forall (A B : Type) (f g : A -> B), (forall a : A, f a = g a) -> forall l : list A, map f l = map g l base_params : BaseParams multi_params : MultiParams base_params nwPackets : list packet nwState : name -> data ghost_data0 : Type ghost_init0 : ghost_data0 ghost_input_handlers0 : name -> input -> ghost_data0 * data -> ghost_data0 H0 : name -> msg -> ghost_data0 * data -> ghost_data0 Unable to unify \"?M2289 = ?M2290\" with \"map (fun x : packet => {| pSrc := pSrc x; pDst := pDst x; pBody := pBody x |}) nwPackets = nwPackets\".", "type": "cannot_unify", "handled": true}, {"ctx": ["intros net.", "unfold deghost, reghost.", "destruct net as [nwPackets nwState].", "f_equal.", "unfold ghost_packet, deghost_packet.", "rewrite map_map.", "qsimpl use: map_ext.", "qsimpl use: functional_extensionality,map_ext."], "tactic": "destruct (nwState x) as [p d'] eqn: eq_state.", "exn": "The reference x was not found in the current environment.", "type": "ref_not_found", "handled": true}, {"ctx": ["intros net.", "unfold deghost, reghost.", "destruct net as [nwPackets nwState].", "f_equal.", "unfold ghost_packet, deghost_packet.", "rewrite map_map.", "qsimpl use: map_ext.", "qsimpl use: functional_extensionality,map_ext."], "tactic": "now destruct (decide (p = ghost_init)).", "exn": "The reference decide was not found in the current environment.", "type": "ref_not_found", "handled": true}]}, "chat": [], "original": "intros net. unfold deghost, reghost. destruct net as [nwPackets nwState]. f_equal. - unfold ghost_packet, deghost_packet. rewrite map_map. apply map_ext. intros. destruct a as [p d]. simpl. now rewrite ghost_deghost_packet. - apply functional_extensionality. intros. destruct (nwState x) as [p d'] eqn: eq_state. now destruct (decide (p = ghost_init)).", "hammer_times": 9, "succ": false, "time": 254.65188097953796}]