[{"history": {"proof": "", "repairs": [], "exceptions": [{"ctx": ["intros n st t c li lt st' ms H.", "unfold handleRequestVote in H.", "destruct (t <? currentTerm st) eqn:H1; [inversion H; subst; reflexivity|].", "destruct (leaderId st) eqn:H2.", "-", "destruct (votedFor st) eqn:H3; inversion H; subst; auto."], "tactic": "-", "exn": "Wrong bullet -: Current bullet - is not finished.", "type": "unfinished_bullet", "handled": true}, {"ctx": ["intros n st t c li lt st' ms H.", "unfold handleRequestVote in H.", "destruct (t <? currentTerm st) eqn:H1; [inversion H; subst; reflexivity|].", "destruct (leaderId st) eqn:H2.", "-", "destruct (votedFor st) eqn:H3; inversion H; subst; auto.", "+", "shelve.", "+", "shelve.", "-"], "tactic": "destruct (negb (leaderId st)) eqn:H4; inversion H; subst; auto.", "exn": "In environment orig_base_params : BaseParams one_node_params : OneNodeParams orig_base_params raft_params : RaftParams orig_base_params n : name st : RaftState.raft_data term name entry logIndex serverType data clientId output t : nat c : fin N li, lt : nat st' : raft_data ms : msg H1 : (t <? currentTerm st) = false H : (if (if leaderId (advanceCurrentTerm st t) then false else true) && moreUpToDate lt li (maxTerm (log (advanceCurrentTerm st t))) (maxIndex (log (advanceCurrentTerm st t))) then match votedFor (advanceCurrentTerm st t) with | Some candidateId' => (advanceCurrentTerm st t, RequestVoteReply (currentTerm (advanceCurrentTerm st t)) (if fin_eq_dec N c candidateId' then true else false)) | None => ({[advanceCurrentTerm st t with votedFor := Some c]}, RequestVoteReply (currentTerm (advanceCurrentTerm st t)) true) end else (advanceCurrentTerm st t, RequestVoteReply (currentTerm (advanceCurrentTerm st t)) false)) = (st', ms) H2 : leaderId st = None The term \"leaderId st\" has type \"option name\" while it is expected to have type \"bool\".", "type": "wrong_type", "handled": true}]}, "chat": [], "original": "intros n st t c li lt st' ms H. unfold handleRequestVote in H. destruct (t <? currentTerm st) eqn:H1; [inversion H; subst; reflexivity|]. destruct (leaderId st) eqn:H2. - destruct (votedFor st) eqn:H3; inversion H; subst; auto. - destruct (negb (leaderId st)) eqn:H4; inversion H; subst; auto.", "succ": false}]