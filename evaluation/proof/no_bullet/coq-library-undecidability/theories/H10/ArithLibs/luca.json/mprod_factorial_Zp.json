[{"history": {"proof": "", "repairs": [], "exceptions": [{"ctx": [], "tactic": "apply factorial_cancel with (n := n).", "exn": "In environment factorial_cancel : forall n a b : nat, fact n * a = fact n * b -> a = b p : nat Hp : p <> 0 expo_p_cancel : forall n a b : nat, expo n p * a = expo n p * b -> a = b i, n : nat Unable to unify \"?M1443 = ?M1444\" with \"\u301a mprod_an (i * p + 1) n \u301b = \u301a fact n \u301b\".", "type": "cannot_unify", "handled": true}, {"ctx": ["qsimpl."], "tactic": "rewrite <- mprod_factorial.", "exn": "Found no subterm matching \"\u03a0 ?M1763 (fun i : nat => i + 1)\" in the current goal.", "type": "no_subterm", "handled": true}, {"ctx": ["qsimpl.", "qsimpl use: mprod_factorial.", "symmetry."], "tactic": "apply mprod_an_morphism.", "exn": "The reference mprod_an_morphism was not found in the current environment.", "type": "ref_not_found", "handled": true}, {"ctx": ["qsimpl.", "qsimpl use: mprod_factorial.", "symmetry.", "apply Zp_inj."], "tactic": "intros i.", "exn": "i is already used.", "type": "used_var", "handled": true}, {"ctx": ["qsimpl.", "qsimpl use: mprod_factorial.", "symmetry.", "apply Zp_inj."], "tactic": "intros i'.", "exn": "No product even after head-reduction.", "type": "no_product", "handled": true}, {"ctx": ["qsimpl.", "qsimpl use: mprod_factorial.", "symmetry.", "apply Zp_inj."], "tactic": "apply plus_cancel_l.", "exn": "Unable to find an instance for the variable a.", "type": "no_instance_var", "handled": true}, {"ctx": ["qsimpl.", "qsimpl use: mprod_factorial.", "symmetry.", "apply Zp_inj.", "qsimpl use: mprod_factorial,plus_cancel_l."], "tactic": "rewrite <- mprod_an_plus.", "exn": "The reference mprod_an_plus was not found in the current environment.", "type": "ref_not_found", "handled": true}, {"ctx": ["qsimpl.", "qsimpl use: mprod_factorial.", "symmetry.", "apply Zp_inj.", "qsimpl use: mprod_factorial,plus_cancel_l.", "rewrite <- ZifyClasses.mkrel."], "tactic": "rewrite <- msum_an_formula.", "exn": "The reference msum_an_formula was not found in the current environment.", "type": "ref_not_found", "handled": true}, {"ctx": ["qsimpl.", "qsimpl use: mprod_factorial.", "symmetry.", "apply Zp_inj.", "qsimpl use: mprod_factorial,plus_cancel_l.", "rewrite <- ZifyClasses.mkrel."], "tactic": "rewrite binomial_thm.", "exn": "Found no subterm matching \"fact ?M2717\" in the current goal.", "type": "no_subterm", "handled": true}, {"ctx": ["qsimpl.", "qsimpl use: mprod_factorial.", "symmetry.", "apply Zp_inj.", "qsimpl use: mprod_factorial,plus_cancel_l.", "rewrite <- ZifyClasses.mkrel.", "qsimpl use: mprod_factorial,plus_cancel_l,binomial_thm."], "tactic": "rewrite mult_assoc.", "exn": "Found no subterm matching \"?M2821 * (?M2822 * ?M2823)\" in the current goal.", "type": "no_subterm", "handled": true}, {"ctx": ["qsimpl.", "qsimpl use: mprod_factorial.", "symmetry.", "apply Zp_inj.", "qsimpl use: mprod_factorial,plus_cancel_l.", "rewrite <- ZifyClasses.mkrel.", "qsimpl use: mprod_factorial,plus_cancel_l,binomial_thm.", "qsimpl use: mprod_factorial,plus_cancel_l,mult_assoc,binomial_thm."], "tactic": "reflexivity.", "exn": "In environment H4 : forall n p : nat, p <= n -> fact n = binomial n p * fact p * fact (n - p) H3 : forall n m p : nat, n * (m * p) = n * m * p H2 : forall a b c : nat, a + b = a + c -> b = c H : forall n : nat, fact n = \u03a0 n (fun i : nat => i + 1) factorial_cancel : forall n a b : nat, fact n * a = fact n * b -> a = b p : nat Hp : p = 0 -> False expo_p_cancel : forall n a b : nat, expo n p * a = expo n p * b -> a = b i, n, x : nat l : x < p n0, m : nat H0 : n0 < m Unable to unify \"m\" with \"n0\".", "type": "cannot_unify", "handled": true}]}, "chat": [], "original": "apply factorial_cancel with (n := n). rewrite <- mprod_factorial. symmetry. apply mprod_an_morphism. intros i. apply plus_cancel_l. rewrite <- mprod_an_plus. rewrite <- msum_an_formula. rewrite binomial_thm. rewrite mult_assoc. reflexivity.", "succ": false}]